"use strict";(self.webpackChunkSocialMedia=self.webpackChunkSocialMedia||[]).push([[133],{673:(h,_,d)=>{d.d(_,{W:()=>o});var p=d(7579),g=d(4650),l=d(4383);let o=(()=>{class u{constructor(c){this.toastr=c,this.refreshPostsSubject=new p.x,this.refreshPosts$=this.refreshPostsSubject.asObservable(),this.refreshCommentsSubject=new p.x,this.refreshComments$=this.refreshCommentsSubject.asObservable()}success(c){this.toastr.success(c)}error(c){this.toastr.error(c)}info(c){this.toastr.info(c)}warning(c){this.toastr.warning(c)}refreshPosts(){this.refreshPostsSubject.next()}refreshComments(){this.refreshCommentsSubject.next()}}return u.\u0275fac=function(c){return new(c||u)(g.LFG(l._W))},u.\u0275prov=g.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()},1133:(h,_,d)=>{d.r(_),d.d(_,{AuthModule:()=>ao});var p=d(6895),g=d(3060),l=d(4006),o=d(4650),u=d(5869),f=d(7009),c=d(2557),v=d(673);function b(e,s){1&e&&(o.TgZ(0,"small"),o._uU(1,"Email is required"),o.qZA())}function Z(e,s){1&e&&(o.TgZ(0,"small"),o._uU(1,"Invalid email address"),o.qZA())}function x(e,s){if(1&e&&(o.TgZ(0,"div",25),o.YNc(1,b,2,0,"small",26),o.YNc(2,Z,2,0,"small",26),o.qZA()),2&e){const r=o.oxw();let t,n;o.xp6(1),o.Q6J("ngIf",null==(t=r.loginForm.get("email"))||null==t.errors?null:t.errors.required),o.xp6(1),o.Q6J("ngIf",null==(n=r.loginForm.get("email"))||null==n.errors?null:n.errors.email)}}function T(e,s){1&e&&(o.TgZ(0,"small"),o._uU(1,"Password is required"),o.qZA())}function P(e,s){1&e&&(o.TgZ(0,"small"),o._uU(1,"Password must be at least 6 characters"),o.qZA())}function C(e,s){if(1&e&&(o.TgZ(0,"div",25),o.YNc(1,T,2,0,"small",26),o.YNc(2,P,2,0,"small",26),o.qZA()),2&e){const r=o.oxw();let t,n;o.xp6(1),o.Q6J("ngIf",null==(t=r.loginForm.get("password"))||null==t.errors?null:t.errors.required),o.xp6(1),o.Q6J("ngIf",null==(n=r.loginForm.get("password"))||null==n.errors?null:n.errors.minlength)}}function F(e,s){if(1&e&&(o.TgZ(0,"div",32),o._uU(1),o.qZA()),2&e){const r=o.oxw();o.xp6(1),o.hij(" ",r.errorMessage," ")}}function A(e,s){1&e&&(o.TgZ(0,"div",33),o._uU(1," First Name is required. "),o.qZA())}function S(e,s){1&e&&(o.TgZ(0,"div",33),o._uU(1," Last Name is required. "),o.qZA())}function U(e,s){1&e&&(o.TgZ(0,"div"),o._uU(1,"Email is required."),o.qZA())}function I(e,s){1&e&&(o.TgZ(0,"div"),o._uU(1,"Invalid email format."),o.qZA())}function N(e,s){if(1&e&&(o.TgZ(0,"div",33),o.YNc(1,U,2,0,"div",34),o.YNc(2,I,2,0,"div",34),o.qZA()),2&e){const r=o.oxw();let t,n;o.xp6(1),o.Q6J("ngIf",null==(t=r.registrationForm.get("email"))||null==t.errors?null:t.errors.required),o.xp6(1),o.Q6J("ngIf",null==(n=r.registrationForm.get("email"))||null==n.errors?null:n.errors.email)}}function Y(e,s){1&e&&(o.TgZ(0,"div"),o._uU(1,"Mobile number is required.."),o.qZA())}function y(e,s){1&e&&(o.TgZ(0,"div"),o._uU(1,"Mobile number should be of 10 digits."),o.qZA())}function J(e,s){if(1&e&&(o.TgZ(0,"div",33),o.YNc(1,Y,2,0,"div",34),o.YNc(2,y,2,0,"div",34),o.qZA()),2&e){const r=o.oxw();let t,n;o.xp6(1),o.Q6J("ngIf",null==(t=r.registrationForm.get("mobile"))||null==t.errors?null:t.errors.required),o.xp6(1),o.Q6J("ngIf",null==(n=r.registrationForm.get("mobile"))||null==n.errors?null:n.errors.pattern)}}function k(e,s){1&e&&(o.TgZ(0,"div"),o._uU(1,"Password is required."),o.qZA())}function Q(e,s){1&e&&(o.TgZ(0,"div"),o._uU(1,"Password must be at least 6 characters long."),o.qZA())}function E(e,s){if(1&e&&(o.TgZ(0,"div",33),o.YNc(1,k,2,0,"div",34),o.YNc(2,Q,2,0,"div",34),o.qZA()),2&e){const r=o.oxw();let t,n;o.xp6(1),o.Q6J("ngIf",null==(t=r.registrationForm.get("password"))||null==t.errors?null:t.errors.required),o.xp6(1),o.Q6J("ngIf",null==(n=r.registrationForm.get("password"))||null==n.errors?null:n.errors.minlength)}}function M(e,s){1&e&&(o.TgZ(0,"small"),o._uU(1,"Email is required"),o.qZA())}function j(e,s){1&e&&(o.TgZ(0,"small"),o._uU(1,"Invalid email address"),o.qZA())}function O(e,s){if(1&e&&(o.TgZ(0,"div",19),o.YNc(1,M,2,0,"small",12),o.YNc(2,j,2,0,"small",12),o.qZA()),2&e){const r=o.oxw(2);let t,n;o.xp6(1),o.Q6J("ngIf",null==(t=r.forgotPasswordForm.get("email"))||null==t.errors?null:t.errors.required),o.xp6(1),o.Q6J("ngIf",null==(n=r.forgotPasswordForm.get("email"))||null==n.errors?null:n.errors.email)}}function B(e,s){if(1&e&&(o.TgZ(0,"div")(1,"div",13),o._UZ(2,"input",14),o.TgZ(3,"label",15),o._uU(4,"Email address"),o.qZA(),o.YNc(5,O,3,2,"div",16),o.qZA(),o.TgZ(6,"div",17)(7,"button",18),o._uU(8,"Send OTP"),o.qZA()()()),2&e){const r=o.oxw();let t;o.xp6(5),o.Q6J("ngIf",(null==(t=r.forgotPasswordForm.get("email"))?null:t.invalid)&&(null==(t=r.forgotPasswordForm.get("email"))?null:t.touched))}}function D(e,s){1&e&&(o.TgZ(0,"small"),o._uU(1,"OTP is required"),o.qZA())}function z(e,s){if(1&e&&(o.TgZ(0,"div",19),o.YNc(1,D,2,0,"small",12),o.qZA()),2&e){const r=o.oxw(2);let t;o.xp6(1),o.Q6J("ngIf",null==(t=r.forgotPasswordForm.get("otp"))||null==t.errors?null:t.errors.required)}}function G(e,s){1&e&&(o.TgZ(0,"small"),o._uU(1,"New password is required"),o.qZA())}function R(e,s){if(1&e&&(o.TgZ(0,"div",19),o.YNc(1,G,2,0,"small",12),o.qZA()),2&e){const r=o.oxw(2);let t;o.xp6(1),o.Q6J("ngIf",null==(t=r.forgotPasswordForm.get("newPassword"))||null==t.errors?null:t.errors.required)}}function W(e,s){if(1&e&&(o.TgZ(0,"div")(1,"div",13),o._UZ(2,"input",20),o.TgZ(3,"label",21),o._uU(4,"Enter OTP"),o.qZA(),o.YNc(5,z,2,1,"div",16),o.qZA(),o.TgZ(6,"div",13),o._UZ(7,"input",22),o.TgZ(8,"label",23),o._uU(9,"New Password"),o.qZA(),o.YNc(10,R,2,1,"div",16),o.qZA(),o.TgZ(11,"div",17)(12,"button",18),o._uU(13,"Reset Password"),o.qZA()()()),2&e){const r=o.oxw();let t,n;o.xp6(5),o.Q6J("ngIf",(null==(t=r.forgotPasswordForm.get("otp"))?null:t.invalid)&&(null==(t=r.forgotPasswordForm.get("otp"))?null:t.touched)),o.xp6(5),o.Q6J("ngIf",(null==(n=r.forgotPasswordForm.get("newPassword"))?null:n.invalid)&&(null==(n=r.forgotPasswordForm.get("newPassword"))?null:n.touched))}}function H(e,s){1&e&&(o.TgZ(0,"small"),o._uU(1,"Email is required"),o.qZA())}function K(e,s){1&e&&(o.TgZ(0,"small"),o._uU(1,"Invalid email address"),o.qZA())}function V(e,s){if(1&e&&(o.TgZ(0,"div",22),o.YNc(1,H,2,0,"small",23),o.YNc(2,K,2,0,"small",23),o.qZA()),2&e){const r=o.oxw();let t,n;o.xp6(1),o.Q6J("ngIf",null==(t=r.changePasswordForm.get("email"))||null==t.errors?null:t.errors.required),o.xp6(1),o.Q6J("ngIf",null==(n=r.changePasswordForm.get("email"))||null==n.errors?null:n.errors.email)}}function $(e,s){1&e&&(o.TgZ(0,"small"),o._uU(1,"Old password is required"),o.qZA())}function oo(e,s){if(1&e&&(o.TgZ(0,"div",22),o.YNc(1,$,2,0,"small",23),o.qZA()),2&e){const r=o.oxw();let t;o.xp6(1),o.Q6J("ngIf",null==(t=r.changePasswordForm.get("oldPassword"))||null==t.errors?null:t.errors.required)}}function eo(e,s){1&e&&(o.TgZ(0,"small"),o._uU(1,"New password is required"),o.qZA())}function to(e,s){if(1&e&&(o.TgZ(0,"div",22),o.YNc(1,eo,2,0,"small",23),o.qZA()),2&e){const r=o.oxw();let t;o.xp6(1),o.Q6J("ngIf",null==(t=r.changePasswordForm.get("newPassword"))||null==t.errors?null:t.errors.required)}}function ro(e,s){1&e&&(o.TgZ(0,"small"),o._uU(1,"Confirm password is required"),o.qZA())}function no(e,s){1&e&&(o.TgZ(0,"small"),o._uU(1,"Passwords do not match"),o.qZA())}function so(e,s){if(1&e&&(o.TgZ(0,"div",22),o.YNc(1,ro,2,0,"small",23),o.YNc(2,no,2,0,"small",23),o.qZA()),2&e){const r=o.oxw();let t;o.xp6(1),o.Q6J("ngIf",null==(t=r.changePasswordForm.get("confirmPassword"))||null==t.errors?null:t.errors.required),o.xp6(1),o.Q6J("ngIf",r.changePasswordForm.hasError("mismatch"))}}const lo=[{path:"login",component:(()=>{class e{constructor(r,t,n,i,m,a){this.fb=r,this.router=t,this.apiService=n,this.snackBar=i,this.authService=m,this.helperService=a,this.loginForm=this.fb.group({email:["",[l.kI.required,l.kI.email]],password:["",[l.kI.required,l.kI.minLength(6)]]})}navigateToSignup(){this.router.navigate(["/signup"])}navigateToForgotPassword(){this.router.navigate(["/forgot-password"])}login(){if(this.loginForm.valid){const{email:r,password:t}=this.loginForm.value;this.apiService.postData("login",{email:r,password:t}).subscribe({next:n=>{0===n.status?this.helperService.error(n.msg):(this.helperService.success(n.msg),this.authService.login(n.details),this.router.navigate(["/home"]))},error:n=>{this.helperService.error("An error occurred during login. Please try again.")}})}else console.log("Form is invalid")}}return e.\u0275fac=function(r){return new(r||e)(o.Y36(l.QS),o.Y36(g.F0),o.Y36(u.s),o.Y36(f.ux),o.Y36(c.e),o.Y36(v.W))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-login"]],decls:34,vars:3,consts:[[1,"vh-100",2,"background-color","#9A616D"],[1,"container","py-5","h-100"],[1,"row","d-flex","justify-content-center","align-items-center","h-100"],[1,"col","col-xl-10"],[1,"card",2,"border-radius","1rem"],[1,"row","g-0"],[1,"col-md-6","col-lg-5","d-none","d-md-block"],["src","https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-login-form/img1.webp","alt","login form",1,"img-fluid",2,"border-radius","1rem 0 0 1rem"],[1,"col-md-6","col-lg-7","d-flex","align-items-center"],[1,"card-body","p-4","p-lg-5","text-black"],[3,"formGroup","ngSubmit"],[1,"d-flex","align-items-center","mb-3","pb-1"],[1,"fas","fa-cubes","fa-2x","me-3",2,"color","#ff6219"],[1,"fw-normal","mb-3","pb-3",2,"letter-spacing","1px"],["data-mdb-input-init","",1,"form-outline","mb-4"],["type","email","id","form2Example17","formControlName","email",1,"form-control","form-control-lg"],["for","form2Example17",1,"form-label"],["class","text-danger",4,"ngIf"],["type","password","id","form2Example27","formControlName","password",1,"form-control","form-control-lg"],["for","form2Example27",1,"form-label"],[1,"pt-1","mb-4"],["data-mdb-button-init","","data-mdb-ripple-init","","type","submit",1,"btn","btn-dark","btn-lg","btn-block"],[1,"small","text-muted",2,"cursor","pointer",3,"click"],[1,"mb-5","pb-lg-2",2,"color","#393f81"],[2,"color","#393f81","cursor","pointer",3,"click"],[1,"text-danger"],[4,"ngIf"]],template:function(r,t){if(1&r&&(o.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),o._UZ(7,"img",7),o.qZA(),o.TgZ(8,"div",8)(9,"div",9)(10,"form",10),o.NdJ("ngSubmit",function(){return t.login()}),o.TgZ(11,"div",11),o._UZ(12,"i",12),o.qZA(),o.TgZ(13,"h5",13),o._uU(14,"Sign into your account"),o.qZA(),o.TgZ(15,"div",14),o._UZ(16,"input",15),o.TgZ(17,"label",16),o._uU(18,"Email address"),o.qZA(),o.YNc(19,x,3,2,"div",17),o.qZA(),o.TgZ(20,"div",14),o._UZ(21,"input",18),o.TgZ(22,"label",19),o._uU(23,"Password"),o.qZA(),o.YNc(24,C,3,2,"div",17),o.qZA(),o.TgZ(25,"div",20)(26,"button",21),o._uU(27,"Login"),o.qZA()(),o.TgZ(28,"a",22),o.NdJ("click",function(){return t.navigateToForgotPassword()}),o._uU(29,"Forgot password?"),o.qZA(),o.TgZ(30,"p",23),o._uU(31,"Don't have an account? "),o.TgZ(32,"a",24),o.NdJ("click",function(){return t.navigateToSignup()}),o._uU(33,"Signup"),o.qZA()()()()()()()()()()()),2&r){let n,i;o.xp6(10),o.Q6J("formGroup",t.loginForm),o.xp6(9),o.Q6J("ngIf",(null==(n=t.loginForm.get("email"))?null:n.invalid)&&(null==(n=t.loginForm.get("email"))?null:n.touched)),o.xp6(5),o.Q6J("ngIf",(null==(i=t.loginForm.get("password"))?null:i.invalid)&&(null==(i=t.loginForm.get("password"))?null:i.touched))}},dependencies:[p.O5,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u],styles:[".toast-container{position:fixed;top:80px;right:10px;z-index:1000;pointer-events:none}  .toast{min-width:300px;padding:16px;display:flex;align-items:center;justify-content:space-between;border-radius:4px}  .toast .toast-title{font-weight:700}  .toast .toast-message{margin-left:8px}  .toast .toast-icon{font-size:24px}  .toast.toast-success{background-color:#2e7d32;color:#fff}  .toast.toast-error{background-color:#c62828;color:#fff}  .toast.toast-warning{background-color:#ff8f00;color:#fff}  .toast   .toast-success .toast-icon{color:#fff}  .toast   .toast-error .toast-icon{color:#fff}  .toast   .toast-warning .toast-icon{color:#fff}"]}),e})()},{path:"",redirectTo:"login",pathMatch:"full"},{path:"signup",component:(()=>{class e{constructor(r,t,n,i){this.fb=r,this.router=t,this.apiService=n,this.helperService=i,this.errorMessage=null}ngOnInit(){this.registrationForm=this.fb.group({first_name:["",l.kI.required],last_name:["",l.kI.required],email:["",[l.kI.required,l.kI.email]],mobile:["",[l.kI.required,l.kI.pattern(/^\d{10}$/)]],password:["",[l.kI.required,l.kI.minLength(6)]]})}onSubmit(){if(this.registrationForm.valid){const{first_name:r,last_name:t,email:n,mobile:i,password:m}=this.registrationForm.value;this.apiService.postData("signup",{first_name:r,last_name:t,email:n,mobile:i,password:m}).subscribe({next:a=>{this.helperService.success("Signup successful!"),this.router.navigate(["/login"])},error:a=>{this.errorMessage=0===a.status?a.error.msg:"An unexpected error occurred. Please try again later.",console.error("Signup failed",a)}})}else this.registrationForm.markAllAsTouched()}}return e.\u0275fac=function(r){return new(r||e)(o.Y36(l.QS),o.Y36(g.F0),o.Y36(u.s),o.Y36(v.W))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-signup"]],decls:52,vars:7,consts:[[1,"vh-100",2,"background-color","#eee"],[1,"container","h-100"],[1,"row","d-flex","justify-content-center","align-items-center","h-100"],[1,"col-lg-12","col-xl-11"],[1,"card","text-black",2,"border-radius","25px"],[1,"card-body","p-md-5"],[1,"row","justify-content-center"],[1,"col-md-10","col-lg-6","col-xl-5","order-2","order-lg-1"],[1,"text-center","h1","fw-bold","mb-5","mx-1","mx-md-4","mt-4"],["class","alert alert-danger text-center mb-4",4,"ngIf"],[1,"mx-1","mx-md-4",3,"formGroup","ngSubmit"],[1,"d-flex","flex-row","align-items-center","mb-4"],[1,"fas","fa-user","fa-lg","me-3","fa-fw"],[1,"form-outline","flex-fill","mb-0"],["for","firstName",1,"form-label"],["type","text","id","firstName","formControlName","first_name",1,"form-control"],["class","text-danger",4,"ngIf"],["for","lastName",1,"form-label"],["type","text","id","lastName","formControlName","last_name",1,"form-control"],[1,"fas","fa-envelope","fa-lg","me-3","fa-fw"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email",1,"form-control"],[1,"fas","fa-phone","fa-lg","me-3","fa-fw"],["for","mobile",1,"form-label"],["type","number","id","mobile","formControlName","mobile",1,"form-control"],[1,"fas","fa-lock","fa-lg","me-3","fa-fw"],["for","password",1,"form-label"],["type","password","id","password","formControlName","password",1,"form-control"],[1,"d-flex","justify-content-center","mx-4","mb-3","mb-lg-4"],["type","submit",1,"btn","btn-primary","btn-lg"],[1,"col-md-10","col-lg-6","col-xl-7","d-flex","align-items-center","order-1","order-lg-2"],["src","https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-registration/draw1.webp","alt","Sample image",1,"img-fluid"],[1,"alert","alert-danger","text-center","mb-4"],[1,"text-danger"],[4,"ngIf"]],template:function(r,t){if(1&r&&(o.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"p",8),o._uU(9,"Sign up"),o.qZA(),o.YNc(10,F,2,1,"div",9),o.TgZ(11,"form",10),o.NdJ("ngSubmit",function(){return t.onSubmit()}),o.TgZ(12,"div",11),o._UZ(13,"i",12),o.TgZ(14,"div",13)(15,"label",14),o._uU(16,"First Name"),o.qZA(),o._UZ(17,"input",15),o.YNc(18,A,2,0,"div",16),o.qZA()(),o.TgZ(19,"div",11),o._UZ(20,"i",12),o.TgZ(21,"div",13)(22,"label",17),o._uU(23,"Last Name"),o.qZA(),o._UZ(24,"input",18),o.YNc(25,S,2,0,"div",16),o.qZA()(),o.TgZ(26,"div",11),o._UZ(27,"i",19),o.TgZ(28,"div",13)(29,"label",20),o._uU(30,"Email Address"),o.qZA(),o._UZ(31,"input",21),o.YNc(32,N,3,2,"div",16),o.qZA()(),o.TgZ(33,"div",11),o._UZ(34,"i",22),o.TgZ(35,"div",13)(36,"label",23),o._uU(37,"Mobile"),o.qZA(),o._UZ(38,"input",24),o.YNc(39,J,3,2,"div",16),o.qZA()(),o.TgZ(40,"div",11),o._UZ(41,"i",25),o.TgZ(42,"div",13)(43,"label",26),o._uU(44,"Password"),o.qZA(),o._UZ(45,"input",27),o.YNc(46,E,3,2,"div",16),o.qZA()(),o.TgZ(47,"div",28)(48,"button",29),o._uU(49,"Register"),o.qZA()()()(),o.TgZ(50,"div",30),o._UZ(51,"img",31),o.qZA()()()()()()()()),2&r){let n,i,m,a,w;o.xp6(10),o.Q6J("ngIf",t.errorMessage),o.xp6(1),o.Q6J("formGroup",t.registrationForm),o.xp6(7),o.Q6J("ngIf",(null==(n=t.registrationForm.get("first_name"))?null:n.invalid)&&(null==(n=t.registrationForm.get("first_name"))?null:n.touched)),o.xp6(7),o.Q6J("ngIf",(null==(i=t.registrationForm.get("last_name"))?null:i.invalid)&&(null==(i=t.registrationForm.get("last_name"))?null:i.touched)),o.xp6(7),o.Q6J("ngIf",(null==(m=t.registrationForm.get("email"))?null:m.invalid)&&(null==(m=t.registrationForm.get("email"))?null:m.touched)),o.xp6(7),o.Q6J("ngIf",(null==(a=t.registrationForm.get("mobile"))?null:a.invalid)&&(null==(a=t.registrationForm.get("mobile"))?null:a.touched)),o.xp6(7),o.Q6J("ngIf",(null==(w=t.registrationForm.get("password"))?null:w.invalid)&&(null==(w=t.registrationForm.get("password"))?null:w.touched))}},dependencies:[p.O5,l._Y,l.Fj,l.wV,l.JJ,l.JL,l.sg,l.u],styles:[".toast-container{position:fixed;top:80px;right:10px;z-index:1000;pointer-events:none}  .toast{min-width:300px;padding:16px;display:flex;align-items:center;justify-content:space-between;border-radius:4px}  .toast .toast-title{font-weight:700}  .toast .toast-message{margin-left:8px}  .toast .toast-icon{font-size:24px}  .toast.toast-success{background-color:#2e7d32;color:#fff}  .toast.toast-error{background-color:#c62828;color:#fff}  .toast.toast-warning{background-color:#ff8f00;color:#fff}  .toast   .toast-success .toast-icon{color:#fff}  .toast   .toast-error .toast-icon{color:#fff}  .toast   .toast-warning .toast-icon{color:#fff}"]}),e})()},{path:"forgot-password",component:(()=>{class e{constructor(r,t,n,i,m){this.fb=r,this.apiService=t,this.snackBar=n,this.router=i,this.helperService=m,this.otpSent=!1,this.forgotPasswordForm=this.fb.group({email:["",[l.kI.required,l.kI.email]],otp:[""],newPassword:[""]})}requestOtp(){if(this.forgotPasswordForm.get("email")?.valid){const{email:r}=this.forgotPasswordForm.value;this.apiService.postData("forgot_password",{email:r}).subscribe({next:t=>{1==t.status?(this.snackBar.open(t.msg,"Close",{duration:5e3,panelClass:["success-snackbar"]}),this.otpSent=!0):this.snackBar.open(t.msg,"Close",{duration:5e3,panelClass:["error-snackbar"]})},error:t=>{console.error("Request OTP failed",t),this.snackBar.open("An error occurred. Please try again.","Close",{duration:5e3,panelClass:["error-snackbar"]})}})}}resetPassword(){if(this.forgotPasswordForm.valid){const{email:r,otp:t,newPassword:n}=this.forgotPasswordForm.value;this.apiService.postData("reset_password",{email:r,otp:t,password:n}).subscribe({next:i=>{1==i.status?(this.helperService.success(i.msg),this.router.navigate(["/login"])):this.helperService.error(i.msg)},error:i=>{this.helperService.error("An error occurred. Please try again.")}})}}}return e.\u0275fac=function(r){return new(r||e)(o.Y36(l.QS),o.Y36(u.s),o.Y36(f.ux),o.Y36(g.F0),o.Y36(v.W))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-forgot-password"]],decls:15,vars:4,consts:[[1,"vh-100",2,"background-color","#9A616D"],[1,"container","py-5","h-100"],[1,"row","d-flex","justify-content-center","align-items-center","h-100"],[1,"col","col-xl-10"],[1,"card",2,"border-radius","1rem"],[1,"row","g-0"],[1,"col-md-6","col-lg-5","d-none","d-md-block"],["src","https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-login-form/img1.webp","alt","forgot password form",1,"img-fluid",2,"border-radius","1rem 0 0 1rem"],[1,"col-md-6","col-lg-7","d-flex","align-items-center"],[1,"card-body","p-4","p-lg-5","text-black"],[3,"formGroup","ngSubmit"],[1,"fw-normal","mb-3","pb-3",2,"letter-spacing","1px"],[4,"ngIf"],["data-mdb-input-init","",1,"form-outline","mb-4"],["type","email","id","form2Example17","formControlName","email",1,"form-control","form-control-lg"],["for","form2Example17",1,"form-label"],["class","text-danger",4,"ngIf"],[1,"pt-1","mb-4"],["data-mdb-button-init","","data-mdb-ripple-init","","type","submit",1,"btn","btn-dark","btn-lg","btn-block"],[1,"text-danger"],["type","text","id","form2Example18","formControlName","otp",1,"form-control","form-control-lg"],["for","form2Example18",1,"form-label"],["type","password","id","form2Example19","formControlName","newPassword",1,"form-control","form-control-lg"],["for","form2Example19",1,"form-label"]],template:function(r,t){1&r&&(o.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),o._UZ(7,"img",7),o.qZA(),o.TgZ(8,"div",8)(9,"div",9)(10,"form",10),o.NdJ("ngSubmit",function(){return t.otpSent?t.resetPassword():t.requestOtp()}),o.TgZ(11,"h5",11),o._uU(12),o.qZA(),o.YNc(13,B,9,1,"div",12),o.YNc(14,W,14,2,"div",12),o.qZA()()()()()()()()()),2&r&&(o.xp6(10),o.Q6J("formGroup",t.forgotPasswordForm),o.xp6(2),o.hij(" ",t.otpSent?"Enter OTP and New Password":"Forgot Password"," "),o.xp6(1),o.Q6J("ngIf",!t.otpSent),o.xp6(1),o.Q6J("ngIf",t.otpSent))},dependencies:[p.O5,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u],styles:[".toast-container{position:fixed;top:80px;right:10px;z-index:1000;pointer-events:none}  .toast{min-width:300px;padding:16px;display:flex;align-items:center;justify-content:space-between;border-radius:4px}  .toast .toast-title{font-weight:700}  .toast .toast-message{margin-left:8px}  .toast .toast-icon{font-size:24px}  .toast.toast-success{background-color:#2e7d32;color:#fff}  .toast.toast-error{background-color:#c62828;color:#fff}  .toast.toast-warning{background-color:#ff8f00;color:#fff}  .toast   .toast-success .toast-icon{color:#fff}  .toast   .toast-error .toast-icon{color:#fff}  .toast   .toast-warning .toast-icon{color:#fff}"]}),e})()},{path:"change-password",component:(()=>{class e{constructor(r,t,n,i,m,a){this.fb=r,this.apiService=t,this.snackBar=n,this.router=i,this.authService=m,this.helperService=a,this.changePasswordForm=this.fb.group({email:["",[l.kI.required,l.kI.email]],oldPassword:["",l.kI.required],newPassword:["",l.kI.required],confirmPassword:["",l.kI.required]},{validators:this.passwordMatchValidator})}ngOnInit(){}passwordMatchValidator(r){let t=r.get("newPassword")?.value,n=r.get("confirmPassword")?.value;return t==n?null:{mismatch:!0}}changePassword(){if(this.changePasswordForm.valid){let{email:r,oldPassword:t,newPassword:n}=this.changePasswordForm.value;this.apiService.postData("change_password",{email:r,old_password:t,new_password:n,confirm_password:n}).subscribe({next:i=>{1==i.status?(this.helperService.success(i.msg),this.authService.logout()):this.helperService.error(i.msg)},error:i=>{console.error("Change password failed",i),this.snackBar.open("An error occurred. Please try again.","Close",{duration:5e3,panelClass:["error-snackbar"]})}})}}}return e.\u0275fac=function(r){return new(r||e)(o.Y36(l.QS),o.Y36(u.s),o.Y36(f.ux),o.Y36(g.F0),o.Y36(c.e),o.Y36(v.W))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-change-password"]],decls:35,vars:5,consts:[[1,"vh-100"],[1,"container","py-5","h-100"],[1,"row","d-flex","justify-content-center","align-items-center","h-100"],[1,"col","col-xl-10"],[1,"card",2,"border-radius","1rem"],[1,"row","g-0"],[1,"col-md-6","col-lg-7","d-flex","align-items-center"],[1,"card-body","p-4","p-lg-5","text-black"],[3,"formGroup","ngSubmit"],[1,"fw-normal","mb-3","pb-3",2,"letter-spacing","1px"],[1,"form-outline","mb-4"],["type","email","id","email","formControlName","email",1,"form-control","form-control-lg"],["for","email",1,"form-label"],["class","text-danger",4,"ngIf"],["type","password","id","oldPassword","formControlName","oldPassword",1,"form-control","form-control-lg"],["for","oldPassword",1,"form-label"],["type","password","id","newPassword","formControlName","newPassword",1,"form-control","form-control-lg"],["for","newPassword",1,"form-label"],["type","password","id","confirmPassword","formControlName","confirmPassword",1,"form-control","form-control-lg"],["for","confirmPassword",1,"form-label"],[1,"pt-1","mb-4"],["data-mdb-button-init","","data-mdb-ripple-init","","type","submit",1,"btn","btn-dark","btn-lg","btn-block"],[1,"text-danger"],[4,"ngIf"]],template:function(r,t){if(1&r&&(o.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),o._UZ(6,"div"),o.TgZ(7,"div",6)(8,"div",7)(9,"form",8),o.NdJ("ngSubmit",function(){return t.changePassword()}),o.TgZ(10,"h5",9),o._uU(11,"Change Password"),o.qZA(),o.TgZ(12,"div",10),o._UZ(13,"input",11),o.TgZ(14,"label",12),o._uU(15,"Email address"),o.qZA(),o.YNc(16,V,3,2,"div",13),o.qZA(),o.TgZ(17,"div",10),o._UZ(18,"input",14),o.TgZ(19,"label",15),o._uU(20,"Old Password"),o.qZA(),o.YNc(21,oo,2,1,"div",13),o.qZA(),o.TgZ(22,"div",10),o._UZ(23,"input",16),o.TgZ(24,"label",17),o._uU(25,"New Password"),o.qZA(),o.YNc(26,to,2,1,"div",13),o.qZA(),o.TgZ(27,"div",10),o._UZ(28,"input",18),o.TgZ(29,"label",19),o._uU(30,"Confirm Password"),o.qZA(),o.YNc(31,so,3,2,"div",13),o.qZA(),o.TgZ(32,"div",20)(33,"button",21),o._uU(34,"Change Password"),o.qZA()()()()()()()()()()()),2&r){let n,i,m,a;o.xp6(9),o.Q6J("formGroup",t.changePasswordForm),o.xp6(7),o.Q6J("ngIf",(null==(n=t.changePasswordForm.get("email"))?null:n.invalid)&&(null==(n=t.changePasswordForm.get("email"))?null:n.touched)),o.xp6(5),o.Q6J("ngIf",(null==(i=t.changePasswordForm.get("oldPassword"))?null:i.invalid)&&(null==(i=t.changePasswordForm.get("oldPassword"))?null:i.touched)),o.xp6(5),o.Q6J("ngIf",(null==(m=t.changePasswordForm.get("newPassword"))?null:m.invalid)&&(null==(m=t.changePasswordForm.get("newPassword"))?null:m.touched)),o.xp6(5),o.Q6J("ngIf",(null==(a=t.changePasswordForm.get("confirmPassword"))?null:a.invalid)&&(null==(a=t.changePasswordForm.get("confirmPassword"))?null:a.touched))}},dependencies:[p.O5,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u]}),e})()}];let io=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[g.Bz.forChild(lo),g.Bz]}),e})(),ao=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[p.ez,io,l.UX,f.ZX]}),e})()}}]);