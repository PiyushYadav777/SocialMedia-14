"use strict";(self.webpackChunkSocialMedia=self.webpackChunkSocialMedia||[]).push([[326],{7326:(Un,D,l)=>{l.r(D),l.d(D,{HomeModule:()=>An});var d=l(6895),C=l(3060),t=l(4650),w=l(2340),u=l(5412),h=l(4859);let R=(()=>{class n{constructor(e){this.data=e}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(u.WI))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-confirm-dialog"]],decls:8,vars:3,consts:[["mat-dialog-content",""],["mat-dialog-actions",""],["mat-button","",3,"mat-dialog-close"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"p"),t._uU(2),t.qZA()(),t.TgZ(3,"div",1)(4,"button",2),t._uU(5,"Yes"),t.qZA(),t.TgZ(6,"button",2),t._uU(7,"No"),t.qZA()()),2&e&&(t.xp6(2),t.Oqu(i.data.message),t.xp6(2),t.Q6J("mat-dialog-close",!0),t.xp6(2),t.Q6J("mat-dialog-close",!1))},dependencies:[h.lW,u.ZT,u.xY,u.H8]}),n})();var x=l(5869),L=l(7009),v=l(673),g=l(4006),P=l(9549),M=l(7392),T=l(4144),O=l(3238),F=l(4385);function rt(n,o){if(1&n&&(t.TgZ(0,"mat-option",26),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}function st(n,o){if(1&n&&t._UZ(0,"img",30),2&n){const e=t.oxw(2);t.Q6J("src",e.imagePreview,t.LSH)}}function at(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",31),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2);return t.KtG(r.removeImage())}),t.TgZ(1,"mat-icon"),t._uU(2,"cancel"),t.qZA()()}}function ct(n,o){if(1&n&&(t.TgZ(0,"div",27),t.YNc(1,st,1,1,"img",28),t.YNc(2,at,3,0,"button",29),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.imagePreview),t.xp6(1),t.Q6J("ngIf",e.imagePreview||e.post.img)}}function lt(n,o){if(1&n&&t._UZ(0,"video",35),2&n){const e=t.oxw(2);t.Q6J("src",e.videoPreview,t.LSH)}}function dt(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",36),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2);return t.KtG(r.removeVideo())}),t.TgZ(1,"mat-icon"),t._uU(2,"cancel"),t.qZA()()}}function gt(n,o){if(1&n&&(t.TgZ(0,"div",32),t.YNc(1,lt,1,1,"video",33),t.YNc(2,dt,3,0,"button",34),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.videoPreview),t.xp6(1),t.Q6J("ngIf",e.post.video||e.videoPreview)}}let pt=(()=>{class n{constructor(e,i,r,s,a){this.dialogRef=e,this.data=i,this.apiService=r,this.snackBar=s,this.helperService=a,this.imagePreview=null,this.videoPreview=null,this.imageFile=null,this.videoFile=null,this.FILE_URL=w.N.FILE_URL,this.titleOptions=["study","lunch","work","movie","chilling","travelling","Fitness","Shopping","Sports"],this.post={...i},this.loadExistingMedia()}ngOnInit(){const e=localStorage.getItem("User");if(e){const i=JSON.parse(e);this.userId=i.user_id}}onNoClick(){this.dialogRef.close()}onImageChange(e){const i=e.target;if(i.files&&i.files[0]){this.imageFile=i.files[0];const r=new FileReader;r.onload=()=>{this.imagePreview=r.result},r.readAsDataURL(this.imageFile)}}onVideoChange(e){const i=e.target;if(i.files&&i.files[0]){this.videoFile=i.files[0];const r=new FileReader;r.onload=()=>{this.videoPreview=r.result},r.readAsDataURL(this.videoFile)}}removeImage(){this.imageFile=null,this.imagePreview=null,this.post.img=null}removeVideo(){this.videoFile=null,this.videoPreview=null,this.post.video=null}editPost(){const e=new FormData;e.append("post_id",this.post.id),e.append("user_id",this.userId),e.append("title",this.post.title),e.append("desc",this.post.desc),this.imageFile&&e.append("img",this.imageFile,this.imageFile.name),this.videoFile&&e.append("video",this.videoFile,this.videoFile.name),this.apiService.postData("edit_post",e,!0).subscribe({next:i=>{"1"===i.status?(this.helperService.success(i.msg),this.dialogRef.close(!0)):this.helperService.error(i.msg)},error:()=>{this.helperService.error("Error updating post. Please try again.")}})}loadExistingMedia(){this.post.img&&(this.imagePreview=`${this.FILE_URL}${this.post.img}`),this.post.video&&(this.videoPreview=`${this.FILE_URL}${this.post.video}`)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(u.so),t.Y36(u.WI),t.Y36(x.s),t.Y36(L.ux),t.Y36(v.W))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-edit-post-dialog"]],decls:35,vars:5,consts:[["mat-dialog-title",""],["mat-dialog-content","",1,"edit-post-dialog-content"],["appearance","fill"],["required","",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["matInput","","required","","maxlength","50",3,"ngModel","ngModelChange"],[1,"file-inputs"],[1,"file-input-row"],["mat-icon-button","","aria-label","Upload Image",1,"upload-button","image-upload",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-image"],["d","M6.002 5.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0"],["d","M2.002 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2zm12 1a1 1 0 0 1 1 1v6.5l-3.777-1.947a.5.5 0 0 0-.577.093l-3.71 3.71-2.66-1.772a.5.5 0 0 0-.63.062L1.002 12V3a1 1 0 0 1 1-1z"],["type","file","accept","image/*",2,"display","none",3,"change"],["fileInputImage",""],["mat-icon-button","","aria-label","Upload Video",1,"upload-button","video-upload",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-camera-reels-fill"],["d","M6 3a3 3 0 1 1-6 0 3 3 0 0 1 6 0"],["d","M9 6a3 3 0 1 1 0-6 3 3 0 0 1 0 6"],["d","M9 6h.5a2 2 0 0 1 1.983 1.738l3.11-1.382A1 1 0 0 1 16 7.269v7.462a1 1 0 0 1-1.406.913l-3.111-1.382A2 2 0 0 1 9.5 16H2a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z"],["type","file","accept","video/*",2,"display","none",3,"change"],["fileInputVideo",""],["class","media-preview image-preview",4,"ngIf"],["class","media-preview video-preview",4,"ngIf"],["mat-dialog-actions","",1,"dialog-actions"],["mat-button","",1,"action-button","cancel-button",3,"click"],["mat-button","",1,"action-button","save-button",3,"click"],[3,"value"],[1,"media-preview","image-preview"],["class","preview-image","alt","New Image",3,"src",4,"ngIf"],["mat-icon-button","","color","warn","aria-label","Remove Image","class","remove-button",3,"click",4,"ngIf"],["alt","New Image",1,"preview-image",3,"src"],["mat-icon-button","","color","warn","aria-label","Remove Image",1,"remove-button",3,"click"],[1,"media-preview","video-preview"],["controls","","class","preview-video",3,"src",4,"ngIf"],["class","remove-button",3,"click",4,"ngIf"],["controls","",1,"preview-video",3,"src"],[1,"remove-button",3,"click"]],template:function(e,i){if(1&e){const r=t.EpF();t.TgZ(0,"h1",0),t._uU(1,"Edit Post"),t.qZA(),t.TgZ(2,"div",1)(3,"mat-form-field",2)(4,"mat-label"),t._uU(5,"Title"),t.qZA(),t.TgZ(6,"mat-select",3),t.NdJ("ngModelChange",function(a){return i.post.title=a}),t.YNc(7,rt,2,2,"mat-option",4),t.qZA()(),t.TgZ(8,"mat-form-field",2)(9,"mat-label"),t._uU(10,"Description"),t.qZA(),t.TgZ(11,"textarea",5),t.NdJ("ngModelChange",function(a){return i.post.desc=a}),t.qZA()(),t.TgZ(12,"div",6)(13,"div",7)(14,"button",8),t.NdJ("click",function(){t.CHM(r);const a=t.MAs(19);return t.KtG(a.click())}),t.O4$(),t.TgZ(15,"svg",9),t._UZ(16,"path",10)(17,"path",11),t.qZA()(),t.kcU(),t.TgZ(18,"input",12,13),t.NdJ("change",function(a){return i.onImageChange(a)}),t.qZA()(),t.TgZ(20,"div",7)(21,"button",14),t.NdJ("click",function(){t.CHM(r);const a=t.MAs(27);return t.KtG(a.click())}),t.O4$(),t.TgZ(22,"svg",15),t._UZ(23,"path",16)(24,"path",17)(25,"path",18),t.qZA()(),t.kcU(),t.TgZ(26,"input",19,20),t.NdJ("change",function(a){return i.onVideoChange(a)}),t.qZA()()(),t.YNc(28,ct,3,2,"div",21),t.YNc(29,gt,3,2,"div",22),t.qZA(),t.TgZ(30,"div",23)(31,"button",24),t.NdJ("click",function(){return i.onNoClick()}),t._uU(32,"Cancel"),t.qZA(),t.TgZ(33,"button",25),t.NdJ("click",function(){return i.editPost()}),t._uU(34,"Save"),t.qZA()()}2&e&&(t.xp6(6),t.Q6J("ngModel",i.post.title),t.xp6(1),t.Q6J("ngForOf",i.titleOptions),t.xp6(4),t.Q6J("ngModel",i.post.desc),t.xp6(17),t.Q6J("ngIf",i.post.img||i.imagePreview),t.xp6(1),t.Q6J("ngIf",i.post.video||i.videoPreview))},dependencies:[d.sg,d.O5,g.Fj,g.JJ,g.Q7,g.nD,P.KE,P.hX,g.On,M.Hw,T.Nt,h.lW,O.ey,F.gD,u.uh,u.xY,u.H8],styles:[".edit-post-dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}mat-form-field[_ngcontent-%COMP%]{width:100%}.file-inputs[_ngcontent-%COMP%]{display:flex;gap:16px}.file-input-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.upload-button[_ngcontent-%COMP%]{background-color:#f0f0f0;border-radius:4px;padding:8px;transition:background-color .3s}.upload-button[_ngcontent-%COMP%]:hover{background-color:#d3d3d3}.image-upload[_ngcontent-%COMP%]{color:#ff5722}.video-upload[_ngcontent-%COMP%]{color:#2196f3}.media-preview[_ngcontent-%COMP%]{position:relative}.image-preview[_ngcontent-%COMP%]{text-align:center}.preview-image[_ngcontent-%COMP%]{max-width:100%;max-height:200px;object-fit:cover;border-radius:8px}.video-preview[_ngcontent-%COMP%]{text-align:center}.preview-video[_ngcontent-%COMP%]{max-width:100%;max-height:200px;border-radius:8px}.remove-button[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;background-color:#ffffffb3;border-radius:50%;padding:6px;color:#ff5722;transition:background-color .3s,color .3s}.remove-button[_ngcontent-%COMP%]:hover{background-color:#ff5722;color:#fff}.dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:8px}.action-button[_ngcontent-%COMP%]{border-radius:4px;padding:8px 16px;font-weight:700}.cancel-button[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}.cancel-button[_ngcontent-%COMP%]:hover{background-color:#d32f2f}.save-button[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}.save-button[_ngcontent-%COMP%]:hover{background-color:#388e3c}.snackbar-container[_ngcontent-%COMP%]{position:fixed;top:10px;right:10px;color:#fff;z-index:1000}.snackbar-container.error[_ngcontent-%COMP%]{background-color:#c62828!important}.snackbar-container.success[_ngcontent-%COMP%]{background-color:#2e7d32!important}.snackbar-container.warning[_ngcontent-%COMP%]{background-color:#ff8f00!important}"]}),n})();var mt=l(727),ft=l(1135);let Q=(()=>{class n{constructor(){this.selectedCategorySource=new ft.X(null),this.selectedCategory$=this.selectedCategorySource.asObservable()}selectCategory(e){this.selectedCategorySource.next(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var c=l(3546),_=l(4633),k=l(1561);const ut=function(n){return{liked:n}};let Y=(()=>{class n{constructor(e,i){this.apiService=e,this.helperService=i,this.liked=!1}ngOnInit(){this.liked=this.isLiked}likePost(){this.apiService.postData("like_post",{user_id:this.userId,post_id:this.postId}).subscribe({next:i=>{"1"==i.status&&(this.liked=!0,this.notifyUser(i))},error:()=>{this.helperService.error("Error liking post. Please try again.")}})}dislikePost(){this.apiService.postData("remove_like",{user_id:this.userId,post_id:this.postId}).subscribe({next:i=>{"1"==i.status&&(this.liked=!1)},error:()=>{this.helperService.error("Error removing like. Please try again.")}})}notifyUser(e){console.log("Notification triggered:",e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(x.s),t.Y36(v.W))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-like"]],inputs:{postId:"postId",userId:"userId",isLiked:"isLiked"},decls:3,vars:4,consts:[["mat-button","",3,"click"],[3,"ngClass"]],template:function(e,i){1&e&&(t.TgZ(0,"button",0),t.NdJ("click",function(){return i.liked?i.dislikePost():i.likePost()}),t.TgZ(1,"mat-icon",1),t._uU(2),t.qZA()()),2&e&&(t.xp6(1),t.Q6J("ngClass",t.VKq(2,ut,i.liked)),t.xp6(1),t.Oqu("thumb_up"))},dependencies:[d.mk,M.Hw,h.lW],styles:["mat-icon.liked[_ngcontent-%COMP%]{color:#1976d2}  .toast-container{position:fixed;top:80px;right:10px;z-index:1000;pointer-events:none}  .toast{min-width:300px;padding:16px;display:flex;align-items:center;justify-content:space-between;border-radius:4px}  .toast .toast-title{font-weight:700}  .toast .toast-message{margin-left:8px}  .toast .toast-icon{font-size:24px}  .toast.toast-success{background-color:#2e7d32;color:#fff}  .toast.toast-error{background-color:#c62828;color:#fff}  .toast.toast-warning{background-color:#ff8f00;color:#fff}  .toast   .toast-success .toast-icon{color:#fff}  .toast   .toast-error .toast-icon{color:#fff}  .toast   .toast-warning .toast-icon{color:#fff}"]}),n})();function _t(n,o){if(1&n&&(t.TgZ(0,"button",16)(1,"mat-icon"),t._uU(2,"more_vert"),t.qZA()()),2&n){t.oxw();const e=t.MAs(11);t.Q6J("matMenuTriggerFor",e)}}function ht(n,o){if(1&n&&t._UZ(0,"img",17),2&n){const e=t.oxw().$implicit,i=t.oxw();t.Q6J("src",i.FILE_URL+e.img,t.LSH)}}function Ct(n,o){if(1&n&&t._UZ(0,"video",18),2&n){const e=t.oxw().$implicit,i=t.oxw();t.Q6J("src",i.FILE_URL+e.video,t.LSH)}}function xt(n,o){if(1&n&&(t.TgZ(0,"mat-list-item"),t._UZ(1,"img",5),t.TgZ(2,"div",20),t._uU(3),t.qZA()()),2&n){const e=o.$implicit;t.xp6(1),t.s9C("alt",e.userName),t.Q6J("src",e.userProfilePic,t.LSH),t.xp6(2),t.AsE("",e.userName,": ",e.text,"")}}function vt(n,o){if(1&n&&(t.TgZ(0,"mat-card-content")(1,"mat-list"),t.YNc(2,xt,4,4,"mat-list-item",19),t.qZA()()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.Q6J("ngForOf",e.comments)}}function bt(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"mat-card",2)(1,"mat-card-header",3)(2,"div",4),t._UZ(3,"img",5),t.TgZ(4,"div",6)(5,"mat-card-title"),t._uU(6),t.qZA(),t.TgZ(7,"mat-card-subtitle"),t._uU(8),t.qZA()(),t.YNc(9,_t,3,1,"button",7),t.TgZ(10,"mat-menu",null,8)(12,"button",9),t.NdJ("click",function(){const s=t.CHM(e).$implicit,a=t.oxw();return t.KtG(a.openEditDialog(s))}),t.TgZ(13,"mat-icon"),t._uU(14,"edit"),t.qZA(),t._uU(15," Edit "),t.qZA(),t.TgZ(16,"button",9),t.NdJ("click",function(){const s=t.CHM(e).$implicit,a=t.oxw();return t.KtG(a.confirmDelete(s))}),t.TgZ(17,"mat-icon"),t._uU(18,"delete"),t.qZA(),t._uU(19," Delete "),t.qZA()()()(),t.TgZ(20,"mat-card-content")(21,"p"),t._uU(22),t.qZA(),t.TgZ(23,"div",10),t.YNc(24,ht,1,1,"img",11),t.YNc(25,Ct,1,1,"video",12),t.qZA()(),t.TgZ(26,"mat-card-actions")(27,"button",13),t.NdJ("click",function(){const s=t.CHM(e).$implicit,a=t.oxw();return t.KtG(a.viewPostDetails(s.id))}),t.TgZ(28,"mat-icon"),t._uU(29,"info"),t.qZA()(),t._UZ(30,"app-like",14),t.TgZ(31,"button",13),t.NdJ("click",function(){const s=t.CHM(e).$implicit,a=t.oxw();return t.KtG(a.viewPostDetails(s.id))}),t.TgZ(32,"mat-icon"),t._uU(33,"comment"),t.qZA()()(),t.YNc(34,vt,3,1,"mat-card-content",15),t.qZA()}if(2&n){const e=o.$implicit,i=t.oxw();t.xp6(3),t.s9C("alt",e.first_name+" "+e.last_name),t.Q6J("src",i.FILE_URL+e.profile_img,t.LSH),t.xp6(3),t.Oqu(e.first_name+" "+e.last_name),t.xp6(2),t.Oqu(e.category_name),t.xp6(1),t.Q6J("ngIf",e.user_id===i.userId),t.xp6(13),t.Oqu(e.desc),t.xp6(2),t.Q6J("ngIf",e.img),t.xp6(1),t.Q6J("ngIf",e.video),t.xp6(5),t.Q6J("postId",e.id)("userId",i.userId)("isLiked","1"==e.is_liked),t.xp6(4),t.Q6J("ngIf",e.comments&&e.comments.length>0)}}function Pt(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",21),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.loadMore())}),t._uU(1," Load More\n"),t.qZA()}}let Mt=(()=>{class n{constructor(e,i,r,s,a){this.apiService=e,this.dialog=i,this.router=r,this.helperService=s,this.categoryService=a,this.posts=[],this.loading=!0,this.displayedPosts=[],this.totalPostsCount=0,this.postsPerPage=5,this.currentPage=1,this.FILE_URL=w.N.FILE_URL,this.liked=!1,this.subscriptions=new mt.w0}ngOnInit(){const e=localStorage.getItem("User");if(e){const i=JSON.parse(e);this.userId=i.user_id,this.loadPosts(this.userId),this.subscriptions.add(this.helperService.refreshPosts$.subscribe(()=>{this.loadPosts(this.userId)})),this.subscriptions.add(this.categoryService.selectedCategory$.subscribe(r=>{r?this.loadPostsByCategory(r):this.loadPosts(this.userId)}))}this.liked=this.isLiked}loadPosts(e,i=""){this.apiService.postData("post_list",{user_id:e,category_id:i},!0).subscribe({next:s=>{"1"==s.status?(this.posts=s.data,this.totalPostsCount=s.total_count,this.currentPage=1,this.displayedPosts=[],this.displayedPosts=this.posts.slice(0,this.postsPerPage)):this.helperService.error(s.msg),this.loading=!1},error:()=>{this.helperService.error("Error fetching posts. Please try again."),this.loading=!1}})}loadMore(){let e=this.currentPage*this.postsPerPage;e<this.posts.length&&(this.displayedPosts=this.displayedPosts.concat(this.posts.slice(e,e+this.postsPerPage)),this.currentPage++)}get canLoadMore(){return this.displayedPosts.length<this.totalPostsCount}loadPostsByCategory(e){this.apiService.postData("post_list",{user_id:this.userId,category_id:e}).subscribe({next:r=>{"1"==r.status?(this.posts=r.data,this.displayedPosts=this.posts):this.helperService.error(r.msg)},error:()=>{this.helperService.error("Error fetching posts. Please try again.")}})}openEditDialog(e){this.dialog.open(pt,{width:"500px",data:e}).afterClosed().subscribe(r=>{r&&(console.log("Dialog result:",r),console.log("UserId:",this.userId),this.loadPosts(this.userId))})}confirmDelete(e){this.dialog.open(R,{width:"300px",data:{message:"Are you sure you want to delete this post?"}}).afterClosed().subscribe(r=>{r&&this.deletePost(e)})}deletePost(e){this.apiService.postData("delete_post",{post_id:e.id,user_id:this.userId}).subscribe({next:r=>{"1"==r.status?(this.helperService.success(r.msg),this.posts=this.posts.filter(s=>s.id!==e.id)):this.helperService.error(r.msg)},error:()=>{this.helperService.error("Error deleting post. Please try again.")}})}viewPostDetails(e){this.router.navigate(["/home/post-details",e])}ngOnDestroy(){this.subscriptions.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(x.s),t.Y36(u.uw),t.Y36(C.F0),t.Y36(v.W),t.Y36(Q))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-feeds"]],decls:2,vars:2,consts:[["class","feed-post",4,"ngFor","ngForOf"],["mat-button","","color","accent",3,"click",4,"ngIf"],[1,"feed-post"],[1,"dfsdfsd"],[1,"profile-container"],[1,"profile-pic",3,"src","alt"],[1,"profile-info"],["mat-icon-button","",3,"matMenuTriggerFor",4,"ngIf"],["optionsMenu","matMenu"],["mat-menu-item","",3,"click"],[1,"media-container"],["class","post-image",3,"src",4,"ngIf"],["controls","","class","post-video",3,"src",4,"ngIf"],["mat-button","",3,"click"],[3,"postId","userId","isLiked"],[4,"ngIf"],["mat-icon-button","",3,"matMenuTriggerFor"],[1,"post-image",3,"src"],["controls","",1,"post-video",3,"src"],[4,"ngFor","ngForOf"],["mat-line",""],["mat-button","","color","accent",3,"click"]],template:function(e,i){1&e&&(t.YNc(0,bt,35,12,"mat-card",0),t.YNc(1,Pt,2,0,"button",1)),2&e&&(t.Q6J("ngForOf",i.displayedPosts),t.xp6(1),t.Q6J("ngIf",i.canLoadMore))},dependencies:[d.sg,d.O5,c.a8,c.dk,c.dn,c.n5,c.$j,c.hq,_.i$,_.Tg,O.X2,M.Hw,h.lW,k.VK,k.OP,k.p6,Y],styles:[".feed-post[_ngcontent-%COMP%]{margin:16px;padding:16px;border-radius:8px;box-shadow:0 2px 5px #0000001a}.feed-post[_ngcontent-%COMP%]   .mat-card-header[_ngcontent-%COMP%]{display:flex;align-items:flex-start;padding-bottom:8px}.feed-post[_ngcontent-%COMP%]   .profile-container[_ngcontent-%COMP%]{display:flex;align-items:flex-start;width:100%}.feed-post[_ngcontent-%COMP%]   .profile-pic[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;margin-right:12px;object-fit:cover}.feed-post[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.feed-post[_ngcontent-%COMP%]   .mat-card-title[_ngcontent-%COMP%]{font-weight:700}.feed-post[_ngcontent-%COMP%]   .mat-card-subtitle[_ngcontent-%COMP%]{color:#0009}.feed-post[_ngcontent-%COMP%]   .post-image[_ngcontent-%COMP%]{width:auto;max-width:500px;max-height:500px;border-radius:8px;margin-top:8px;object-fit:cover}.feed-post[_ngcontent-%COMP%]   .post-video[_ngcontent-%COMP%]{width:auto;max-width:300px;max-height:300px;border-radius:8px;margin-top:8px}.feed-post[_ngcontent-%COMP%]   .media-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.feed-post[_ngcontent-%COMP%]   .mat-card-actions[_ngcontent-%COMP%]{display:flex;gap:8px;margin-top:16px}.feed-post[_ngcontent-%COMP%]   .mat-card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{text-transform:none}.feed-post[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]{margin-top:8px}.feed-post[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]{margin-top:16px}.feed-post[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:8px}.feed-post[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   .profile-pic[_ngcontent-%COMP%]{width:30px;height:30px;margin-right:8px}.feed-post[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   .mat-line[_ngcontent-%COMP%]{font-size:14px;color:#000000b3}.file-input-row[_ngcontent-%COMP%]{display:flex;gap:16px;margin-bottom:16px}.file-input-container[_ngcontent-%COMP%]{display:flex;align-items:center;flex:1}.file-label[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer;font-size:16px;color:#007bff;background:#f8f9fa;border:1px solid #ddd;padding:8px 12px;border-radius:4px;margin-right:10px}.file-label[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-right:8px}.file-input[_ngcontent-%COMP%]{display:none}mat-icon.liked[_ngcontent-%COMP%]{color:#1976d2}  .toast-container{position:fixed;top:80px;right:10px;z-index:1000;pointer-events:none}  .toast{min-width:300px;padding:16px;display:flex;align-items:center;justify-content:space-between;border-radius:4px}  .toast .toast-title{font-weight:700}  .toast .toast-message{margin-left:8px}  .toast .toast-icon{font-size:24px}  .toast.toast-success{background-color:#2e7d32;color:#fff}  .toast.toast-error{background-color:#c62828;color:#fff}  .toast.toast-warning{background-color:#ff8f00;color:#fff}  .toast   .toast-success .toast-icon{color:#fff}  .toast   .toast-error .toast-icon{color:#fff}  .toast   .toast-warning .toast-icon{color:#fff}"]}),n})();var Z=l(1572);function Ot(n,o){1&n&&t._UZ(0,"mat-spinner")}function wt(n,o){1&n&&(t.TgZ(0,"div"),t._uU(1,"No users found."),t.qZA())}function yt(n,o){if(1&n&&(t.ynx(0),t._UZ(1,"img",10),t.BQk()),2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.xp6(1),t.Q6J("src",i.FILE_URL+e.profile_img,t.LSH)}}function St(n,o){1&n&&(t.O4$(),t.TgZ(0,"svg",11),t._UZ(1,"path",12),t.qZA())}function Tt(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"mat-list-item")(1,"div",4),t.YNc(2,yt,2,1,"ng-container",5),t.YNc(3,St,2,0,"ng-template",null,6,t.W1O),t.qZA(),t.TgZ(5,"div",7)(6,"div",8),t._uU(7),t.qZA(),t.TgZ(8,"div",8),t._uU(9),t.qZA()(),t.TgZ(10,"button",9),t.NdJ("click",function(){const s=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.sendFriendRequest(s))}),t._uU(11,"Connect"),t.qZA()()}if(2&n){const e=o.$implicit,i=t.MAs(4);t.xp6(2),t.Q6J("ngIf",e.profile_img)("ngIfElse",i),t.xp6(5),t.AsE("",e.first_name," ",e.last_name,""),t.xp6(2),t.Oqu(e.email)}}function Zt(n,o){if(1&n&&(t.TgZ(0,"mat-list"),t.YNc(1,Tt,12,5,"mat-list-item",3),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.limitedUsers)}}function It(n,o){1&n&&(t.TgZ(0,"div"),t._uU(1,"No friend requests."),t.qZA())}function Ft(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"mat-list-item")(1,"div",4)(2,"mat-icon",13),t._uU(3,"person"),t.qZA()(),t.TgZ(4,"div",7)(5,"div",8),t._uU(6),t.qZA()(),t.TgZ(7,"button",14),t.NdJ("click",function(){const s=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.confirmRequest(s))}),t.TgZ(8,"mat-icon"),t._uU(9,"check"),t.qZA()(),t.TgZ(10,"button",15),t.NdJ("click",function(){const s=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.cancelRequest(s))}),t.TgZ(11,"mat-icon"),t._uU(12,"cancel"),t.qZA()()()}if(2&n){const e=o.$implicit;t.xp6(6),t.AsE("",e.first_name," ",e.last_name,"")}}function kt(n,o){if(1&n&&(t.TgZ(0,"mat-list"),t.YNc(1,Ft,13,2,"mat-list-item",3),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.friendRequests)}}const At=function(){return["/home/all-suggestions"]};function Ut(n,o){1&n&&(t.TgZ(0,"div")(1,"a",16),t._uU(2,"View all suggestions"),t.qZA()()),2&n&&(t.xp6(1),t.Q6J("routerLink",t.DdM(1,At)))}let qt=(()=>{class n{constructor(e,i){this.apiService=e,this.helperService=i,this.users=[],this.limitedUsers=[],this.loading=!0,this.showRequests=!1,this.friendRequests=[],this.FILE_URL=w.N.FILE_URL,this.maxSuggestions=5}ngOnInit(){const e=localStorage.getItem("User");if(e){const i=JSON.parse(e);this.userId=i.user_id,this.loadUsers()}else this.helperService.error("User not logged in. Please log in again.")}loadUsers(){this.apiService.postData("friendSuggestion",{user_id:this.userId}).subscribe({next:i=>{"1"==i.status?(this.users=i.details,this.limitedUsers=this.users.slice(0,this.maxSuggestions)):this.helperService.error(i.msg),this.loading=!1},error:i=>{this.helperService.error("Error fetching friend suggestions. Please try again."),this.loading=!1}})}sendFriendRequest(e){this.apiService.postData("sendFriendRequest",{sender_id:this.userId,receiver_id:Number(e.user_id)}).subscribe({next:i=>{"success"==i.status?(this.helperService.success(`Friend request sent to ${e.first_name}`),this.loadUsers()):this.helperService.error(i.msg)},error:()=>{this.helperService.error("Error sending friend request. Please try again.")}})}loadFriendRequests(){this.apiService.postData("friends_request_list",{user_id:this.userId}).subscribe({next:i=>{"1"===i.status?this.friendRequests=i.details:(this.helperService.error(i.msg),console.warn(i.msg)),this.loading=!1},error:i=>{this.helperService.error("Error fetching friend requests. Please try again."),this.loading=!1}})}toggleView(){this.showRequests=!this.showRequests,this.showRequests&&this.loadFriendRequests()}confirmRequest(e){this.apiService.postData("respondFriendRequest",{request_id:e.request_id,status:"accepted"}).subscribe({next:r=>{"1"===r.status?(this.helperService.success(`Friend request from ${e.first_name} confirmed`),this.friendRequests=this.friendRequests.filter(s=>s.request_id!==e.request_id)):this.helperService.error(r.msg)},error:()=>{this.helperService.error("Error confirming friend request. Please try again.")}})}cancelRequest(e){this.apiService.postData("respondFriendRequest",{request_id:e.request_id,status:"rejected"}).subscribe({next:r=>{"1"==r.status?(this.helperService.success(`Friend request from ${e.first_name} cancelled`),this.friendRequests=this.friendRequests.filter(s=>s.request_id!==e.request_id)):this.helperService.error(r.error)},error:()=>{this.helperService.error("Error cancelling friend request. Please try again.")}})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(x.s),t.Y36(v.W))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-friends-suggestions"]],decls:16,vars:8,consts:[[1,"friends-suggestions-card"],["mat-button","",3,"click"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"profile-container"],[4,"ngIf","ngIfElse"],["defaultIcon",""],[1,"user-info"],["mat-line",""],["mat-raised-button","","color","primary",3,"click"],["alt","Profile Image",1,"profile-pic",3,"src"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 512 512"],["d","M256 288A144 144 0 1 0 256 0a144 144 0 1 0 0 288zm-94.7 32C72.2 320 0 392.2 0 481.3c0 17 13.8 30.7 30.7 30.7l450.6 0c17 0 30.7-13.8 30.7-30.7C512 392.2 439.8 320 350.7 320l-189.4 0z"],["matListIcon",""],["mat-button","","color","primary",3,"click"],["mat-button","","color","warn",3,"click"],["mat-button","",1,"view-all-button",3,"routerLink"]],template:function(e,i){1&e&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title"),t._uU(3),t.qZA(),t.TgZ(4,"button",1),t.NdJ("click",function(){return i.toggleView()}),t._uU(5),t.qZA()(),t.TgZ(6,"mat-card-content"),t.YNc(7,Ot,1,0,"mat-spinner",2),t.YNc(8,wt,2,0,"div",2),t.YNc(9,Zt,2,1,"mat-list",2),t.YNc(10,It,2,0,"div",2),t.YNc(11,kt,2,1,"mat-list",2),t._UZ(12,"br")(13,"br")(14,"br"),t.YNc(15,Ut,3,2,"div",2),t.qZA()()),2&e&&(t.xp6(3),t.hij(" ",i.showRequests?"Pending Friend Requests":"Friends Suggestions"," "),t.xp6(2),t.hij(" ",i.showRequests?"Suggestions":"Friend Requests"," "),t.xp6(2),t.Q6J("ngIf",i.loading),t.xp6(1),t.Q6J("ngIf",!i.loading&&0===i.users.length&&!i.showRequests),t.xp6(1),t.Q6J("ngIf",!i.loading&&i.users.length>0&&!i.showRequests),t.xp6(1),t.Q6J("ngIf",!i.loading&&0==i.friendRequests.length&&i.showRequests),t.xp6(1),t.Q6J("ngIf",!i.loading&&i.friendRequests.length>0&&i.showRequests),t.xp6(4),t.Q6J("ngIf",!i.showRequests&&i.users.length>i.maxSuggestions))},dependencies:[d.sg,d.O5,C.yS,c.a8,c.dk,c.dn,c.n5,_.i$,_.Tg,O.X2,_.Nh,M.Hw,h.lW,h.zs,Z.Ou],styles:[".profile-container[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:16px}.profile-pic[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;object-fit:cover}.user-info[_ngcontent-%COMP%]{flex:1}.friends-suggestions-card[_ngcontent-%COMP%]{width:100%;max-width:600px;margin:20px auto;padding:20px;box-shadow:0 4px 8px #0000001a;border-radius:8px;background-color:#fff;position:relative}.friends-suggestions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background-color:#f5f5f5;border-bottom:1px solid #ddd;padding:10px 20px}.friends-suggestions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-size:1.2em;font-weight:700;color:#333}.friends-suggestions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#33689c;font-weight:500}.friends-suggestions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#0d47a1}.friends-suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:10px 20px;position:relative}.friends-suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .view-all-button[_ngcontent-%COMP%]{position:absolute;bottom:2px;right:2px;color:#362222;padding:8px 16px;border:none;cursor:pointer;display:inline-flex;align-items:center}.friends-suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .view-all-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-left:8px;padding:10px}mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{padding:10px 0}mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]:last-child{border-bottom:none}mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   .profile-container[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:20px}mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   .profile-container[_ngcontent-%COMP%]   .profile-pic[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;object-fit:cover;margin-right:10px}mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   .profile-container[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:40px;color:#757575}mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{flex:1}mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   mat-line[_ngcontent-%COMP%]{font-size:1em;color:#333}mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:auto;height:36px}mat-spinner[_ngcontent-%COMP%]{display:block;margin:20px auto}  .toast-container{position:fixed;top:80px;right:10px;z-index:1000;pointer-events:none}  .toast{min-width:300px;padding:16px;display:flex;align-items:center;justify-content:space-between;border-radius:4px}  .toast .toast-title{font-weight:700}  .toast .toast-message{margin-left:8px}  .toast .toast-icon{font-size:24px}  .toast.toast-success{background-color:#2e7d32;color:#fff}  .toast.toast-error{background-color:#c62828;color:#fff}  .toast.toast-warning{background-color:#ff8f00;color:#fff}  .toast   .toast-success .toast-icon{color:#fff}  .toast   .toast-error .toast-icon{color:#fff}  .toast   .toast-warning .toast-icon{color:#fff}"]}),n})();function Nt(n,o){1&n&&t._UZ(0,"mat-spinner")}function Et(n,o){1&n&&(t.TgZ(0,"div"),t._uU(1,"You have no friends yet."),t.qZA())}function Jt(n,o){if(1&n&&(t.TgZ(0,"mat-list-item")(1,"div",3),t._UZ(2,"img",4),t.TgZ(3,"div",5)(4,"div",6),t._uU(5),t.qZA()()()()),2&n){const e=o.$implicit,i=t.oxw(2);t.xp6(2),t.s9C("alt",e.first_name+" "+e.last_name),t.Q6J("src",i.FILE_URL+e.profile_img,t.LSH),t.xp6(3),t.AsE("",e.first_name," ",e.last_name,"")}}function Dt(n,o){if(1&n&&(t.TgZ(0,"mat-list"),t.YNc(1,Jt,6,4,"mat-list-item",2),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.limitedFriends)}}const Rt=function(){return["/home/all-firends-list"]};function Lt(n,o){1&n&&(t.TgZ(0,"div")(1,"a",7),t._uU(2,"View all friends"),t.qZA()()),2&n&&(t.xp6(1),t.Q6J("routerLink",t.DdM(1,Rt)))}let H=(()=>{class n{constructor(e,i){this.apiService=e,this.helperService=i,this.friends=[],this.loading=!0,this.FILE_URL=w.N.FILE_URL,this.limitedFriends=[],this.maxFriends=5}ngOnInit(){const e=localStorage.getItem("User");if(e){const i=JSON.parse(e);this.userId=i.user_id,this.loadFriends()}}loadFriends(){this.apiService.postData("friends_list",{user_id:this.userId}).subscribe({next:i=>{"1"===i.status?(this.friends=i.details,this.limitedFriends=this.friends.slice(0,this.maxFriends)):this.helperService.error(i.msg),this.loading=!1},error:i=>{this.helperService.info("Error fetching friends list. Please try again."),this.loading=!1}})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(x.s),t.Y36(v.W))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-friends-list"]],decls:12,vars:4,consts:[[1,"friends-list-card"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"friend-info"],[1,"friend-profile-pic",3,"src","alt"],[1,"friend-details"],["mat-line",""],["mat-button","",1,"view-all-button",3,"routerLink"]],template:function(e,i){1&e&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title"),t._uU(3,"Friends"),t.qZA()(),t.TgZ(4,"mat-card-content"),t.YNc(5,Nt,1,0,"mat-spinner",1),t.YNc(6,Et,2,0,"div",1),t.YNc(7,Dt,2,1,"mat-list",1),t._UZ(8,"br")(9,"br")(10,"br"),t.YNc(11,Lt,3,2,"div",1),t.qZA()()),2&e&&(t.xp6(5),t.Q6J("ngIf",i.loading),t.xp6(1),t.Q6J("ngIf",!i.loading&&0===i.friends.length),t.xp6(1),t.Q6J("ngIf",!i.loading&&i.friends.length>0),t.xp6(4),t.Q6J("ngIf",!i.loading&&i.friends.length>=i.maxFriends))},dependencies:[d.sg,d.O5,C.yS,c.a8,c.dk,c.dn,c.n5,_.i$,_.Tg,O.X2,h.zs,Z.Ou],styles:[".friends-list-card[_ngcontent-%COMP%]{width:100%;max-width:600px;margin:20px auto;padding:20px;box-shadow:0 4px 8px #0000001a;border-radius:8px;background-color:#fff;position:relative}.friends-list-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background-color:#f5f5f5;border-bottom:1px solid #ddd;padding:10px 20px}.friends-list-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-size:1.2em;font-weight:700;color:#333}.friends-list-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#33689c;font-weight:500}.friends-list-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#0d47a1}.friends-list-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:10px 20px;position:relative}.friends-list-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .view-all-button[_ngcontent-%COMP%]{position:absolute;bottom:2px;right:2px;color:#362222;padding:8px 16px;border:none;cursor:pointer;display:inline-flex;align-items:center}.friends-list-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .view-all-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-left:8px}mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{padding:10px 0;margin-bottom:20px}mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]:last-child{border-bottom:none}mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   .friend-info[_ngcontent-%COMP%]{display:flex;align-items:center}mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   .friend-info[_ngcontent-%COMP%]   .friend-profile-pic[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;object-fit:cover;margin-right:16px}mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   .friend-info[_ngcontent-%COMP%]   .friend-details[_ngcontent-%COMP%]{flex:1}mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   .friend-info[_ngcontent-%COMP%]   .friend-details[_ngcontent-%COMP%]   mat-line[_ngcontent-%COMP%]{font-size:1em;color:#333}mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:auto;height:36px}mat-spinner[_ngcontent-%COMP%]{display:block;margin:20px auto}  .toast-container{position:fixed;top:80px;right:10px;z-index:1000;pointer-events:none}  .toast{min-width:300px;padding:16px;display:flex;align-items:center;justify-content:space-between;border-radius:4px}  .toast .toast-title{font-weight:700}  .toast .toast-message{margin-left:8px}  .toast .toast-icon{font-size:24px}  .toast.toast-success{background-color:#2e7d32;color:#fff}  .toast.toast-error{background-color:#c62828;color:#fff}  .toast.toast-warning{background-color:#ff8f00;color:#fff}  .toast   .toast-success .toast-icon{color:#fff}  .toast   .toast-error .toast-icon{color:#fff}  .toast   .toast-warning .toast-icon{color:#fff}"]}),n})();function Qt(n,o){if(1&n&&(t.TgZ(0,"mat-option",19),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function Yt(n,o){if(1&n&&(t.TgZ(0,"div",20),t._UZ(1,"img",21),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("src",e.imagePreview,t.LSH)}}function Ht(n,o){if(1&n&&(t.TgZ(0,"div",20),t._UZ(1,"video",22),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("src",e.videoPreview,t.LSH)}}let zt=(()=>{class n{constructor(e,i,r){this.apiService=e,this.helperService=i,this.router=r,this.newPostContent="",this.imagePreview=null,this.videoPreview=null,this.imageFile=null,this.videoFile=null,this.selectedCategory="",this.categoryOptions=[]}ngOnInit(){const e=localStorage.getItem("User");if(e){const i=JSON.parse(e);this.userId=i.user_id,this.loadCategories()}}loadCategories(){this.apiService.getData("view_all_categories").subscribe({next:e=>{"1"==e.status?this.categoryOptions=e.data:this.helperService.error(e.msg)},error:()=>{this.helperService.error("Error fetching categories. Please try again.")}})}onImageChange(e){const i=e.target;if(i.files&&i.files[0]){this.imageFile=i.files[0];const r=new FileReader;r.onload=()=>{this.imagePreview=r.result},r.readAsDataURL(this.imageFile)}}onVideoChange(e){const i=e.target;if(i.files&&i.files[0]){this.videoFile=i.files[0];const r=new FileReader;r.onload=()=>{this.videoPreview=r.result},r.readAsDataURL(this.videoFile)}}createPost(){if(!this.newPostContent)return void this.helperService.warning("Post content is required");if(!this.userId)return void this.helperService.error("User ID is not available. Please log in again.");const e=new FormData;e.append("desc",this.newPostContent),e.append("user_id",this.userId.toString()),e.append("category_id",this.selectedCategory),this.imageFile&&e.append("img",this.imageFile,this.imageFile.name),this.videoFile&&e.append("video",this.videoFile,this.videoFile.name),this.apiService.postData("add_posts",e,!0).subscribe({next:i=>{"1"==i.status?(this.helperService.success(i.msg),this.newPostContent="",this.imageFile=null,this.videoFile=null,this.imagePreview=null,this.videoPreview=null,this.refreshPosts()):this.helperService.error(i.msg)},error:()=>{this.helperService.error("Error adding post. Please try again.")}})}refreshPosts(){this.helperService.refreshPosts(),this.newPostContent="",this.selectedCategory="",this.imageFile=null,this.videoFile=null,this.imagePreview=null,this.videoPreview=null}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(x.s),t.Y36(v.W),t.Y36(C.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-add-post"]],decls:28,vars:5,consts:[[1,"new-post-card"],["appearance","fill"],["matInput","","rows","3",3,"ngModel","ngModelChange"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"file-input-row"],[1,"file-input-container"],["for","imageInput",1,"file-label"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-image-fill"],["d","M.002 3a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-12a2 2 0 0 1-2-2zm1 9v1a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V9.5l-3.777-1.947a.5.5 0 0 0-.577.093l-3.71 3.71-2.66-1.772a.5.5 0 0 0-.63.062zm5-6.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0"],["id","imageInput","type","file","accept","image/*",1,"file-input",3,"change"],["for","videoInput",1,"file-label"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-camera-reels-fill"],["d","M6 3a3 3 0 1 1-6 0 3 3 0 0 1 6 0"],["d","M9 6a3 3 0 1 1 0-6 3 3 0 0 1 0 6"],["d","M9 6h.5a2 2 0 0 1 1.983 1.738l3.11-1.382A1 1 0 0 1 16 7.269v7.462a1 1 0 0 1-1.406.913l-3.111-1.382A2 2 0 0 1 9.5 16H2a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z"],["id","videoInput","type","file","accept","video/*",1,"file-input",3,"change"],["class","media-preview",4,"ngIf"],["mat-raised-button","","color","primary",3,"click"],[3,"value"],[1,"media-preview"],["alt","Image Preview",1,"media-preview-image",3,"src"],["controls","",1,"media-preview-video",3,"src"]],template:function(e,i){1&e&&(t.TgZ(0,"mat-card",0)(1,"mat-card-content")(2,"mat-form-field",1)(3,"mat-label"),t._uU(4,"What's on your mind?"),t.qZA(),t.TgZ(5,"textarea",2),t.NdJ("ngModelChange",function(s){return i.newPostContent=s}),t.qZA()(),t.TgZ(6,"mat-form-field",1)(7,"mat-label"),t._uU(8,"Select Category"),t.qZA(),t.TgZ(9,"mat-select",3),t.NdJ("ngModelChange",function(s){return i.selectedCategory=s}),t.YNc(10,Qt,2,2,"mat-option",4),t.qZA()(),t.TgZ(11,"div",5)(12,"div",6)(13,"label",7),t.O4$(),t.TgZ(14,"svg",8),t._UZ(15,"path",9),t.qZA()(),t.kcU(),t.TgZ(16,"input",10),t.NdJ("change",function(s){return i.onImageChange(s)}),t.qZA()(),t.TgZ(17,"div",6)(18,"label",11),t.O4$(),t.TgZ(19,"svg",12),t._UZ(20,"path",13)(21,"path",14)(22,"path",15),t.qZA()(),t.kcU(),t.TgZ(23,"input",16),t.NdJ("change",function(s){return i.onVideoChange(s)}),t.qZA()()(),t.YNc(24,Yt,2,1,"div",17),t.YNc(25,Ht,2,1,"div",17),t.TgZ(26,"button",18),t.NdJ("click",function(){return i.createPost()}),t._uU(27,"Post"),t.qZA()()()),2&e&&(t.xp6(5),t.Q6J("ngModel",i.newPostContent),t.xp6(4),t.Q6J("ngModel",i.selectedCategory),t.xp6(1),t.Q6J("ngForOf",i.categoryOptions),t.xp6(14),t.Q6J("ngIf",i.imagePreview),t.xp6(1),t.Q6J("ngIf",i.videoPreview))},dependencies:[d.sg,d.O5,g.Fj,g.JJ,c.a8,c.dn,P.KE,P.hX,g.On,T.Nt,h.lW,O.ey,F.gD],styles:[".new-post-card[_ngcontent-%COMP%]{margin:16px;padding:16px;border-radius:8px;box-shadow:0 2px 5px #0000001a}.new-post-card[_ngcontent-%COMP%]   .mat-card-header[_ngcontent-%COMP%]{margin-bottom:16px}.new-post-card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin:0}.new-post-card[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:16px}.new-post-card[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:none}.new-post-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:16px}.new-post-card[_ngcontent-%COMP%]   .file-input-row[_ngcontent-%COMP%]{display:flex;gap:16px;margin-bottom:16px}.new-post-card[_ngcontent-%COMP%]   .file-input-container[_ngcontent-%COMP%]{display:flex;align-items:center}.new-post-card[_ngcontent-%COMP%]   .file-label[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer;font-size:16px;color:#007bff;background:#f8f9fa;border:1px solid #ddd;padding:8px 12px;border-radius:4px}.new-post-card[_ngcontent-%COMP%]   .file-label[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-right:8px}.new-post-card[_ngcontent-%COMP%]   .file-input[_ngcontent-%COMP%]{display:none}.new-post-card[_ngcontent-%COMP%]   .media-preview[_ngcontent-%COMP%]{margin-top:16px;display:flex;align-items:center;gap:16px}.new-post-card[_ngcontent-%COMP%]   .media-preview-image[_ngcontent-%COMP%], .new-post-card[_ngcontent-%COMP%]   .media-preview-video[_ngcontent-%COMP%]{max-width:150px;max-height:150px;border-radius:8px;object-fit:cover}.new-post-card[_ngcontent-%COMP%]   .media-preview-image[_ngcontent-%COMP%], .new-post-card[_ngcontent-%COMP%]   .media-preview-video[_ngcontent-%COMP%]{max-width:150px}  .toast-container{position:fixed;top:80px;right:10px;z-index:1000;pointer-events:none}  .toast{min-width:300px;padding:16px;display:flex;align-items:center;justify-content:space-between;border-radius:4px}  .toast .toast-title{font-weight:700}  .toast .toast-message{margin-left:8px}  .toast .toast-icon{font-size:24px}  .toast.toast-success{background-color:#2e7d32;color:#fff}  .toast.toast-error{background-color:#c62828;color:#fff}  .toast.toast-warning{background-color:#ff8f00;color:#fff}  .toast   .toast-success .toast-icon{color:#fff}  .toast   .toast-error .toast-icon{color:#fff}  .toast   .toast-warning .toast-icon{color:#fff}"]}),n})();var A=l(1281),jt=l(7579),I=l(4968),$t=l(2722),q=l(5698);const z=["*"];function Vt(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",7),t.NdJ("click",function(){const s=t.CHM(e).index,a=t.oxw(2);return t.KtG(a.to(s))}),t.qZA()}if(2&n){const e=o.index,i=t.oxw(2);t.ekj("active",e===i.activeSlide),t.uIk("aria-current",e===i.activeSlide)}}function Bt(n,o){if(1&n&&(t.TgZ(0,"div",5),t.YNc(1,Vt,1,3,"button",6),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.items)}}function Kt(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",8),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.prev())}),t._UZ(1,"span",9),t.TgZ(2,"span",10),t._uU(3,"Previous"),t.qZA()()}}function Wt(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",11),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.next())}),t._UZ(1,"span",12),t.TgZ(2,"span",10),t._uU(3,"Next"),t.qZA()()}}let j=(()=>{class n{constructor(e){this._elementRef=e,this.interval=null,this.carouselItem=!0,this.active=!1,this.next=!1,this.prev=!1,this.start=!1,this.end=!1}get host(){return this._elementRef.nativeElement}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq))},n.\u0275cmp=t.Xpm({type:n,selectors:[["mdb-carousel-item"]],hostVars:12,hostBindings:function(e,i){2&e&&t.ekj("carousel-item",i.carouselItem)("active",i.active)("carousel-item-next",i.next)("carousel-item-prev",i.prev)("carousel-item-start",i.start)("carousel-item-end",i.end)},inputs:{interval:"interval"},ngContentSelectors:z,decls:1,vars:0,template:function(e,i){1&e&&(t.F$t(),t.Hsn(0))},encapsulation:2}),n})();var b=(()=>{return(n=b||(b={}))[n.UNKNOWN=0]="UNKNOWN",n[n.NEXT=1]="NEXT",n[n.PREV=2]="PREV",b;var n})();let Xt=(()=>{class n{constructor(e,i){this._elementRef=e,this._cdRef=i,this.animation="slide",this._controls=!1,this._dark=!1,this._indicators=!1,this._ride=!0,this._interval=5e3,this.keyboard=!0,this.pause=!0,this.wrap=!0,this.slide=new t.vpe,this.slideChange=new t.vpe,this._activeSlide=0,this._isPlaying=!1,this._isSliding=!1,this._destroy$=new jt.x}get items(){return this._items&&this._items.toArray()}get controls(){return this._controls}set controls(e){this._controls=(0,A.Ig)(e)}get dark(){return this._dark}set dark(e){this._dark=(0,A.Ig)(e)}get indicators(){return this._indicators}set indicators(e){this._indicators=(0,A.Ig)(e)}get ride(){return this._ride}set ride(e){this._ride=(0,A.Ig)(e)}get interval(){return this._interval}set interval(e){this._interval=e,this.items&&this._restartInterval()}get activeSlide(){return this._activeSlide}set activeSlide(e){this.items.length&&this._activeSlide!==e&&(this._activeSlide=e,this._restartInterval())}onMouseEnter(){this.pause&&this._isPlaying&&this.stop()}onMouseLeave(){this.pause&&!this._isPlaying&&this.play()}ngAfterViewInit(){Promise.resolve().then(()=>{this._setActiveSlide(this._activeSlide),this.interval>0&&this.ride&&this.play()}),this.keyboard&&(0,I.R)(this._elementRef.nativeElement,"keydown").pipe((0,$t.R)(this._destroy$)).subscribe(e=>{"ArrowRight"===e.key?this.next():"ArrowLeft"===e.key&&this.prev()})}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete()}_setActiveSlide(e){this.items[this._activeSlide].active=!1,this.items[e].active=!0,this._activeSlide=e}_restartInterval(){this._resetInterval();const e=this.items[this.activeSlide],i=e.interval?e.interval:this.interval;!isNaN(i)&&i>0&&(this._lastInterval=setInterval(()=>{const r=+i;this._isPlaying&&!isNaN(r)&&r>0?this.next():this.stop()},i))}_resetInterval(){this._lastInterval&&(clearInterval(this._lastInterval),this._lastInterval=null)}play(){this._isPlaying||(this._isPlaying=!0,this._restartInterval())}stop(){this._isPlaying&&(this._isPlaying=!1,this._resetInterval())}to(e){if(!(e>this.items.length-1||e<0))return this.activeSlide===e?(this.stop(),void this.play()):(this._animateSlides(e>this.activeSlide?b.NEXT:b.PREV,this.activeSlide,e),this.activeSlide=e,void this._cdRef.markForCheck())}next(){this._isSliding||this._slide(b.NEXT),this._cdRef.markForCheck()}prev(){this._isSliding||this._slide(b.PREV),this._cdRef.markForCheck()}_slide(e){if(!this.wrap&&(e===b.NEXT&&this._activeSlide===this.items.length-1||e===b.PREV&&0===this._activeSlide))return;const s=this._getNewSlideIndex(e);this._animateSlides(e,this.activeSlide,s),this.activeSlide=s,this.slide.emit()}_animateSlides(e,i,r){const s=this.items[i],a=this.items[r],f=s.host,p=a.host;if(this._isSliding=!0,this._isPlaying&&this.stop(),e===b.NEXT){a.next=!0,setTimeout(()=>{this._reflow(p),s.start=!0,a.start=!0},0);const m=600;(0,I.R)(f,"transitionend").pipe((0,q.q)(1)).subscribe(()=>{a.next=!1,a.start=!1,a.active=!0,s.active=!1,s.start=!1,s.next=!1,this.slideChange.emit(),this._isSliding=!1}),this._emulateTransitionEnd(f,m)}else if(e===b.PREV){a.prev=!0,setTimeout(()=>{this._reflow(p),s.end=!0,a.end=!0},0);const m=600;(0,I.R)(f,"transitionend").pipe((0,q.q)(1)).subscribe(()=>{a.prev=!1,a.end=!1,a.active=!0,s.active=!1,s.end=!1,s.prev=!1,this.slideChange.emit(),this._isSliding=!1}),this._emulateTransitionEnd(f,m)}!this._isPlaying&&this.interval>0&&this.play()}_reflow(e){return e.offsetHeight}_emulateTransitionEnd(e,i){let r=!1;const a=i+5;(0,I.R)(e,"transitionend").pipe((0,q.q)(1)).subscribe(()=>{r=!0}),setTimeout(()=>{r||e.dispatchEvent(new Event("transitionend"))},a)}_getNewSlideIndex(e){let i;return e===b.NEXT&&(i=this._getNextSlideIndex()),e===b.PREV&&(i=this._getPrevSlideIndex()),i}_getNextSlideIndex(){const e=this._activeSlide===this.items.length-1;return e?this.wrap&&e?0:this._activeSlide:this._activeSlide+1}_getPrevSlideIndex(){const e=0===this._activeSlide;return e?this.wrap&&e?this.items.length-1:this._activeSlide:this._activeSlide-1}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(t.sBO))},n.\u0275cmp=t.Xpm({type:n,selectors:[["mdb-carousel"]],contentQueries:function(e,i,r){if(1&e&&t.Suo(r,j,4),2&e){let s;t.iGM(s=t.CRH())&&(i._items=s)}},hostBindings:function(e,i){1&e&&t.NdJ("mouseenter",function(){return i.onMouseEnter()})("mouseleave",function(){return i.onMouseLeave()})},inputs:{animation:"animation",keyboard:"keyboard",pause:"pause",wrap:"wrap",controls:"controls",dark:"dark",indicators:"indicators",ride:"ride",interval:"interval"},outputs:{slide:"slide",slideChange:"slideChange"},ngContentSelectors:z,decls:6,vars:7,consts:[[1,"carousel","slide"],["class","carousel-indicators",4,"ngIf"],[1,"carousel-inner"],["class","carousel-control-prev","type","button",3,"click",4,"ngIf"],["class","carousel-control-next","type","button",3,"click",4,"ngIf"],[1,"carousel-indicators"],["type","button",3,"active","click",4,"ngFor","ngForOf"],["type","button",3,"click"],["type","button",1,"carousel-control-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button",1,"carousel-control-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"]],template:function(e,i){1&e&&(t.F$t(),t.TgZ(0,"div",0),t.YNc(1,Bt,2,1,"div",1),t.TgZ(2,"div",2),t.Hsn(3),t.qZA(),t.YNc(4,Kt,4,0,"button",3),t.YNc(5,Wt,4,0,"button",4),t.qZA()),2&e&&(t.ekj("carousel-fade","fade"===i.animation)("carousel-dark",i.dark),t.xp6(1),t.Q6J("ngIf",i.indicators),t.xp6(3),t.Q6J("ngIf",i.controls),t.xp6(1),t.Q6J("ngIf",i.controls))},dependencies:[d.sg,d.O5],encapsulation:2,changeDetection:0}),n})(),Gt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[d.ez]}),n})();function te(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",5),t.NdJ("click",function(){const s=t.CHM(e).$implicit,a=t.oxw();return t.KtG(a.openPopup(s))}),t.TgZ(1,"div",6),t._UZ(2,"img",7),t.qZA()()}if(2&n){const e=o.$implicit,i=t.oxw();t.xp6(2),t.Q6J("src",i.FILE_URL+e.profile_img,t.LSH)}}function ee(n,o){if(1&n&&t._UZ(0,"img",17),2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.Q6J("src",i.FILE_URL+e.img,t.LSH)}}function ne(n,o){if(1&n&&(t.TgZ(0,"mdb-carousel-item"),t.YNc(1,ee,1,1,"img",14),t.TgZ(2,"div",15)(3,"h5",16),t._uU(4),t.qZA()()()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("ngIf",e.img),t.xp6(3),t.Oqu(e.desc)}}function ie(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",8),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.closePopup())}),t.TgZ(1,"div",9),t.NdJ("click",function(r){return r.stopPropagation()}),t.TgZ(2,"span",10),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.closePopup())}),t._uU(3,"\xd7"),t.qZA(),t.TgZ(4,"div",11)(5,"h4"),t._uU(6),t.qZA()(),t.TgZ(7,"mdb-carousel",12),t.YNc(8,ne,5,2,"mdb-carousel-item",13),t.qZA()()()}if(2&n){const e=t.oxw();t.xp6(6),t.Oqu(e.getUserName()),t.xp6(1),t.Q6J("controls",!0)("indicators",!0)("animation","fade"),t.xp6(1),t.Q6J("ngForOf",e.getCurrentStory())}}let $=(()=>{class n{constructor(e,i){this.apiService=e,this.helperService=i,this.stories=[],this.loading=!0,this.FILE_URL=w.N.FILE_URL,this.selectedStory=null,this.currentIndex=0}ngOnInit(){const e=localStorage.getItem("User");if(e){const i=JSON.parse(e);this.userId=i.user_id,this.loadStories()}else this.helperService.error("User data not found.")}loadStories(){this.apiService.postData("view_story",{user_id:this.userId}).subscribe({next:i=>{"1"==i.status&&(this.stories=i.data),this.loading=!1},error:()=>{this.helperService.error("Error fetching stories. Please try again."),this.loading=!1}})}openPopup(e){this.selectedStory=e.stories,this.currentIndex=0,this.startStoryCycle()}startStoryCycle(){this.showCurrentStory(),this.storyInterval=setInterval(()=>{this.currentIndex++,this.currentIndex>=this.selectedStory.length?this.closePopup():this.showCurrentStory()},5e3)}showCurrentStory(){}closePopup(){this.selectedStory=null,clearInterval(this.storyInterval)}ngOnDestroy(){clearInterval(this.storyInterval)}getCurrentStory(){return this.selectedStory?this.selectedStory:[]}getUserName(){if(this.selectedStory&&this.selectedStory.length>0){const e=this.selectedStory[this.currentIndex],i=this.stories.find(r=>r.stories.includes(e));return i?`${i.first_name} ${i.last_name}`:""}return""}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(x.s),t.Y36(v.W))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-view-story"]],decls:5,vars:2,consts:[[1,"single-story-card"],[1,"stories-container"],["routerLink","add-story","width","100","height","100","src","https://img.icons8.com/clouds/100/add.png"],["class","story-item",3,"click",4,"ngFor","ngForOf"],["class","story-overlay",3,"click",4,"ngIf"],[1,"story-item",3,"click"],[1,"story-thumbnail"],[3,"src"],[1,"story-overlay",3,"click"],[1,"popup-content",3,"click"],[1,"close-btn",3,"click"],[1,"user-name"],[1,"modal-carousel",3,"controls","indicators","animation"],[4,"ngFor","ngForOf"],["class","story-image",3,"src",4,"ngIf"],[1,"carousel-caption","d-none","d-md-block"],[1,"desc"],[1,"story-image",3,"src"]],template:function(e,i){1&e&&(t.TgZ(0,"mat-card",0)(1,"div",1),t._UZ(2,"img",2),t.YNc(3,te,3,1,"div",3),t.qZA()(),t.YNc(4,ie,9,5,"div",4)),2&e&&(t.xp6(3),t.Q6J("ngForOf",i.stories),t.xp6(1),t.Q6J("ngIf",i.selectedStory))},dependencies:[d.sg,d.O5,C.rH,c.a8,Xt,j],styles:[".single-story-card[_ngcontent-%COMP%]{padding:16px;border-radius:8px;overflow:hidden;position:relative;display:flex;justify-content:center}.stories-container[_ngcontent-%COMP%]{display:flex;overflow-x:auto;width:100%;white-space:nowrap}.story-item[_ngcontent-%COMP%]{display:inline-block;margin:0 8px;cursor:pointer}.story-thumbnail[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;overflow:hidden;border:2px solid #fff}.story-thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.story-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.7);display:flex;justify-content:center;align-items:center;z-index:1000}.story-overlay[_ngcontent-%COMP%]   .popup-content[_ngcontent-%COMP%]{position:relative;width:80%;max-width:600px;background:#fff;padding:16px;border-radius:8px}.story-overlay[_ngcontent-%COMP%]   .popup-content[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px;cursor:pointer;font-size:1.5rem;color:#000}.story-image[_ngcontent-%COMP%], .story-video[_ngcontent-%COMP%]{max-width:100%;max-height:300px;object-fit:cover;border-radius:8px}.desc[_ngcontent-%COMP%]{font-size:large}.modal-carousel[_ngcontent-%COMP%]   .carousel-item[_ngcontent-%COMP%]{text-align:center}.modal-carousel[_ngcontent-%COMP%]   .carousel-caption[_ngcontent-%COMP%]{bottom:-15px}.modal-carousel[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{font-size:16px;color:#fff;background-color:#0000007a;padding:10px;display:inline-block}.user-name[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:20px!important;font-weight:500!important}"]}),n})();function oe(n,o){1&n&&t._UZ(0,"mat-progress-spinner",4)}function re(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"mat-list-item",7),t.NdJ("click",function(){const s=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.onCategorySelect(s.id))}),t.TgZ(1,"button",8),t._uU(2),t.qZA()()}if(2&n){const e=o.$implicit;t.xp6(2),t.hij(" ",e.name," ")}}function se(n,o){if(1&n&&(t.TgZ(0,"div",5)(1,"mat-list"),t.YNc(2,re,3,1,"mat-list-item",6),t.qZA()()),2&n){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.categories)}}function ae(n,o){1&n&&(t.TgZ(0,"div"),t._uU(1,"No interests found."),t.qZA())}let ce=(()=>{class n{constructor(e,i,r){this.apiService=e,this.helperService=i,this.categoryService=r,this.categories=[],this.selectedCategory=null,this.posts=[],this.loading=!1}ngOnInit(){this.loadCategories()}loadCategories(){this.apiService.getData("view_all_categories").subscribe({next:e=>{"1"===e.status?this.categories=e.data:this.helperService.error(e.msg)},error:()=>this.helperService.error("Error fetching categories.")})}onCategorySelect(e){this.categoryService.selectCategory(e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(x.s),t.Y36(v.W),t.Y36(Q))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-interests"]],decls:8,vars:3,consts:[[1,"interests-card"],["mode","indeterminate","diameter","40","class","loading-spinner",4,"ngIf"],["class","categories",4,"ngIf"],[4,"ngIf"],["mode","indeterminate","diameter","40",1,"loading-spinner"],[1,"categories"],["class","category-item",3,"click",4,"ngFor","ngForOf"],[1,"category-item",3,"click"],["mat-button","","color","primary",1,"category-button"]],template:function(e,i){1&e&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title"),t._uU(3,"Interests"),t.qZA()(),t.TgZ(4,"mat-card-content"),t.YNc(5,oe,1,0,"mat-progress-spinner",1),t.YNc(6,se,3,1,"div",2),t.YNc(7,ae,2,0,"div",3),t.qZA()()),2&e&&(t.xp6(5),t.Q6J("ngIf",i.loading),t.xp6(1),t.Q6J("ngIf",!i.loading),t.xp6(1),t.Q6J("ngIf",!i.loading&&0==i.categories.length))},dependencies:[d.sg,d.O5,c.a8,c.dk,c.dn,c.n5,_.i$,_.Tg,h.lW,Z.Ou],styles:[".interests-card[_ngcontent-%COMP%]{width:100%;max-width:600px;margin:20px auto;padding:20px;box-shadow:0 4px 8px #0000001a;border-radius:8px;background-color:#fff}.interests-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{background-color:#f5f5f5;border-bottom:1px solid #ddd;padding:10px 20px}.interests-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-size:1.2em;font-weight:700;color:#333}.interests-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:10px 20px}.interests-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{display:block;margin:20px auto}.interests-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]{margin:5px 0}.interests-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-button[_ngcontent-%COMP%]{min-width:100px;width:100%}"]}),n})(),le=(()=>{class n{constructor(){this.selectedCategory=null}onCategorySelected(e){this.selectedCategory=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-home"]],decls:9,vars:0,consts:[[1,"home-container"],[1,"friends-list"],[1,"center-container"],[1,"add-story"],[1,"add-post"],[1,"feeds"],[1,"right-container"],[1,"friends-suggestions"],[1,"interests"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"app-friends-list",1),t.TgZ(2,"div",2),t._UZ(3,"app-view-story",3)(4,"app-add-post",4)(5,"app-feeds",5),t.qZA(),t.TgZ(6,"div",6),t._UZ(7,"app-friends-suggestions",7)(8,"app-interests",8),t.qZA()())},dependencies:[Mt,qt,H,zt,$,ce],styles:[".home-container[_ngcontent-%COMP%]{display:flex;width:100%}.friends-list[_ngcontent-%COMP%]{flex:0 0 30%;padding:16px;box-sizing:border-box;border-right:1px solid #ddd;overflow-y:auto}.center-container[_ngcontent-%COMP%]{flex:0 0 40%;display:flex;flex-direction:column;padding:16px;box-sizing:border-box}.add-post[_ngcontent-%COMP%], .add-story[_ngcontent-%COMP%], .friends-suggestions[_ngcontent-%COMP%]{margin-bottom:16px}.right-container[_ngcontent-%COMP%]{flex:0 0 30%;display:flex;flex-direction:column;padding:16px;box-sizing:border-box;border-left:1px solid #ddd;overflow-y:auto}"]}),n})(),de=(()=>{class n{constructor(e,i){this.dialogRef=e,this.data=i,this.commentText=i.comment.comment_text}ngOnInIt(){}onSave(){this.dialogRef.close({comment_id:this.data.comment.id,comment_text:this.commentText})}onCancel(){this.dialogRef.close()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(u.so),t.Y36(u.WI))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-edit-comment-dialog"]],decls:12,vars:1,consts:[["mat-dialog-content",""],["appearance","fill"],["matInput","","rows","2",3,"ngModel","ngModelChange"],["mat-dialog-actions",""],["mat-button","",3,"click"],["mat-raised-button","","color","primary",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"mat-form-field",1)(2,"mat-label"),t._uU(3,"Comment"),t.qZA(),t.TgZ(4,"textarea",2),t.NdJ("ngModelChange",function(s){return i.commentText=s}),t.qZA()()(),t.TgZ(5,"div",3)(6,"button",4),t.NdJ("click",function(){return i.onCancel()}),t.TgZ(7,"mat-icon"),t._uU(8,"cancel"),t.qZA()(),t.TgZ(9,"button",5),t.NdJ("click",function(){return i.onSave()}),t.TgZ(10,"mat-icon"),t._uU(11,"update"),t.qZA()()()),2&e&&(t.xp6(4),t.Q6J("ngModel",i.commentText))},dependencies:[g.Fj,g.JJ,P.KE,P.hX,g.On,M.Hw,T.Nt,h.lW,u.xY,u.H8],styles:[".edit-comment-dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;padding:16px}mat-form-field[_ngcontent-%COMP%]{width:100%}mat-dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:8px;padding:8px 16px}button[mat-button][_ngcontent-%COMP%]{border-radius:4px;padding:8px 16px;font-weight:700;text-transform:none}button[mat-button][_ngcontent-%COMP%]{background-color:#f44336;color:#fff}button[mat-button][_ngcontent-%COMP%]:hover{background-color:#d32f2f}button[mat-raised-button][color=primary][_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}button[mat-raised-button][color=primary][_ngcontent-%COMP%]:hover{background-color:#388e3c}mat-icon[_ngcontent-%COMP%]{font-size:20px}"]}),n})();function ge(n,o){if(1&n&&t._UZ(0,"img",10),2&n){const e=t.oxw(2);t.Q6J("src",e.FILE_URL+e.post.img,t.LSH)}}function pe(n,o){if(1&n&&t._UZ(0,"video",11),2&n){const e=t.oxw(2);t.Q6J("src",e.post.video,t.LSH)}}function me(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",12),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2);return t.KtG(r.toggleInput())}),t.TgZ(1,"mat-icon"),t._uU(2,"comment"),t.qZA()()}}function fe(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"mat-form-field",13)(2,"mat-label"),t._uU(3,"Comment"),t.qZA(),t.TgZ(4,"textarea",14),t.NdJ("ngModelChange",function(r){t.CHM(e);const s=t.oxw(2);return t.KtG(s.commentText=r)}),t.qZA()(),t.TgZ(5,"button",15),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2);return t.KtG(r.addComment())}),t.TgZ(6,"mat-icon"),t._uU(7,"send"),t.qZA()(),t.TgZ(8,"button",12),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2);return t.KtG(r.toggleInput())}),t._uU(9,"Cancel"),t.qZA()()}if(2&n){const e=t.oxw(2);t.xp6(4),t.Q6J("ngModel",e.commentText)}}function ue(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"mat-list-item"),t._UZ(1,"img",16),t.TgZ(2,"div",17)(3,"span",18),t._uU(4),t.qZA(),t.TgZ(5,"span",19),t._uU(6),t.qZA()(),t.TgZ(7,"div",20)(8,"button",12),t.NdJ("click",function(){const s=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.editComment(s))}),t.TgZ(9,"mat-icon"),t._uU(10,"edit"),t.qZA()(),t.TgZ(11,"button",12),t.NdJ("click",function(){const s=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.confirmDeleteComment(s.id))}),t.TgZ(12,"mat-icon"),t._uU(13,"delete"),t.qZA()()()()}if(2&n){const e=o.$implicit,i=t.oxw(2);t.xp6(1),t.Q6J("src",i.FILE_URL+e.profile_img,t.LSH),t.xp6(3),t.AsE("",e.first_name," ",e.last_name,""),t.xp6(2),t.Oqu(e.comment_text)}}function _e(n,o){if(1&n&&(t.TgZ(0,"mat-card")(1,"mat-card-header")(2,"div",1)(3,"div",2),t._UZ(4,"img",3)(5,"br")(6,"br"),t.TgZ(7,"mat-card-title"),t._uU(8),t.qZA(),t.TgZ(9,"mat-card-subtitle"),t._uU(10),t.qZA()()()(),t.TgZ(11,"mat-card-content")(12,"p"),t._uU(13),t.qZA(),t.TgZ(14,"div",4),t.YNc(15,ge,1,1,"img",5),t.YNc(16,pe,1,1,"video",6),t.qZA()(),t.TgZ(17,"mat-card-actions"),t._UZ(18,"app-like",7),t.YNc(19,me,3,0,"button",8),t.YNc(20,fe,10,1,"div",0),t.qZA(),t.TgZ(21,"mat-card-content")(22,"mat-list"),t.YNc(23,ue,14,4,"mat-list-item",9),t.qZA()()()),2&n){const e=t.oxw();t.xp6(4),t.Q6J("src",e.FILE_URL+e.post.profile_img,t.LSH),t.xp6(4),t.Oqu(e.post.first_name+" "+e.post.last_name),t.xp6(2),t.Oqu(e.post.title),t.xp6(3),t.Oqu(e.post.desc),t.xp6(2),t.Q6J("ngIf",e.post.img),t.xp6(1),t.Q6J("ngIf",e.post.video),t.xp6(2),t.Q6J("postId",e.post.id)("userId",e.userId)("isLiked","1"==e.post.is_liked),t.xp6(1),t.Q6J("ngIf",!e.isInputVisible),t.xp6(1),t.Q6J("ngIf",e.isInputVisible),t.xp6(3),t.Q6J("ngForOf",e.comments)}}let he=(()=>{class n{constructor(e,i,r,s){this.route=e,this.apiService=i,this.helperService=r,this.dialog=s,this.FILE_URL=w.N.FILE_URL,this.comments=[],this.commentText="",this.isInputVisible=!1}ngOnInit(){const e=localStorage.getItem("User");if(e){const i=JSON.parse(e);this.userId=i.user_id}this.postId=Number(this.route.snapshot.paramMap.get("id")),this.postId&&(this.getPostDetails(this.postId,this.userId),this.getComments(this.postId),this.helperService.refreshComments$.subscribe(()=>{this.getComments(this.postId)}))}getPostDetails(e,i){this.apiService.postData("post_details",{post_id:e,user_id:i}).subscribe({next:r=>{"1"==r.status?this.post=r.details:this.helperService.error(r.msg)},error:()=>{this.helperService.error("Error fetching post details. Please try again.")}})}getComments(e){this.apiService.postData("view_all_comment",{post_id:e}).subscribe({next:i=>{"1"===i.status?this.comments=i.details:this.helperService.error(i.msg)},error:()=>{this.helperService.error("Error fetching comments. Please try again.")}})}toggleInput(){this.isInputVisible=!this.isInputVisible,this.isInputVisible||(this.commentText="")}addComment(){""!=this.commentText.trim()?this.apiService.postData("add_comments",{post_id:this.postId,user_id:this.userId,comment_text:this.commentText}).subscribe({next:i=>{"1"==i.status?(this.helperService.success("Comment added!"),this.commentText="",this.helperService.refreshComments()):this.helperService.error(i.msg)},error:()=>{this.helperService.error("Error adding comment. Please try again.")}}):this.helperService.warning("Comment cannot be empty")}editComment(e){this.dialog.open(de,{width:"250px",data:{comment:e}}).afterClosed().subscribe(r=>{r&&this.updateComment(r)})}updateComment(e){this.apiService.postData("update_comments",e).subscribe({next:i=>{"1"==i.status?(this.helperService.success(i.msg),this.getComments(this.postId)):this.helperService.error(i.msg)},error:()=>{this.helperService.error("Error updating comment. Please try again.")}})}confirmDeleteComment(e){this.dialog.open(R,{data:{message:"Are you sure you want to delete this comment?"}}).afterClosed().subscribe(r=>{r&&this.deleteComment(e)})}deleteComment(e){this.apiService.postData("delete_comments",{comment_id:e}).subscribe({next:i=>{"1"===i.status?(this.helperService.success(i.msg),this.getComments(this.postId)):this.helperService.error(i.msg)},error:()=>{this.helperService.error("Error deleting comment. Please try again.")}})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(C.gz),t.Y36(x.s),t.Y36(v.W),t.Y36(u.uw))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-post-details"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"profile-container"],[1,"profile-info"],[1,"profile-pic",3,"src"],[1,"media-container"],["class","post-image",3,"src",4,"ngIf"],["controls","","class","post-video",3,"src",4,"ngIf"],[3,"postId","userId","isLiked"],["mat-button","",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"post-image",3,"src"],["controls","",1,"post-video",3,"src"],["mat-button","",3,"click"],["appearance","fill"],["matInput","","rows","1",3,"ngModel","ngModelChange"],["mat-button","","color","primary",3,"click"],[1,"profile-pic2",3,"src"],[1,"comment-text"],[1,"comment-author"],[1,"comment-content"],[1,"comment-actions"]],template:function(e,i){1&e&&t.YNc(0,_e,24,12,"mat-card",0),2&e&&t.Q6J("ngIf",i.post)},dependencies:[d.sg,d.O5,g.Fj,g.JJ,c.a8,c.dk,c.dn,c.n5,c.$j,c.hq,_.i$,_.Tg,P.KE,P.hX,g.On,M.Hw,T.Nt,h.lW,Y],styles:["mat-card[_ngcontent-%COMP%]{max-width:800px;margin:20px auto;padding:16px;border-radius:8px;box-shadow:0 2px 5px #0003}.profile-container[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:16px}.profile-pic[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;object-fit:cover}mat-card-title[_ngcontent-%COMP%]{font-size:1.2em;font-weight:700}mat-card-subtitle[_ngcontent-%COMP%]{font-size:1em;color:#666}mat-card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1em;line-height:1.6;color:#333;margin-bottom:16px}mat-card-content[_ngcontent-%COMP%]   .media-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}mat-card-content[_ngcontent-%COMP%]   .media-container[_ngcontent-%COMP%]   .post-image[_ngcontent-%COMP%]{max-width:100%;height:auto;border-radius:8px;margin-bottom:16px}mat-card-content[_ngcontent-%COMP%]   .media-container[_ngcontent-%COMP%]   .post-video[_ngcontent-%COMP%]{max-width:100%;border-radius:8px}.error-snackbar[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}mat-list-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;margin-bottom:8px}.profile-pic2[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%;object-fit:cover;margin-right:8px}.comment-text[_ngcontent-%COMP%]{display:flex;flex-direction:column}.comment-author[_ngcontent-%COMP%]{font-weight:700}.comment-content[_ngcontent-%COMP%]{font-size:.9em;color:#333}@media (max-width: 600px){mat-card[_ngcontent-%COMP%]{padding:12px}.profile-info[_ngcontent-%COMP%]{margin-left:8px}mat-card-title[_ngcontent-%COMP%]{font-size:1.1em}mat-card-subtitle[_ngcontent-%COMP%]{font-size:.9em}p[_ngcontent-%COMP%]{font-size:.9em}.profile-pic2[_ngcontent-%COMP%]{width:25px;height:25px}}mat-list-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:8px;border-bottom:1px solid #e0e0e0}mat-list-item[_ngcontent-%COMP%]   .profile-pic2[_ngcontent-%COMP%]{width:20px;height:20px;border-radius:50%;margin-right:16px;margin-bottom:22px}mat-list-item[_ngcontent-%COMP%]   .comment-text[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column}mat-list-item[_ngcontent-%COMP%]   .comment-text[_ngcontent-%COMP%]   .comment-author[_ngcontent-%COMP%]{font-weight:700;margin-bottom:4px}mat-list-item[_ngcontent-%COMP%]   .comment-text[_ngcontent-%COMP%]   .comment-content[_ngcontent-%COMP%]{color:#555}mat-list-item[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]{display:flex;gap:8px}mat-list-item[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#007bff}mat-list-item[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#f1f1f1}mat-list-item[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px}.comments-section[_ngcontent-%COMP%]{margin-top:16px}  .toast-container{position:fixed;top:80px;right:10px;z-index:1000;pointer-events:none}  .toast{min-width:300px;padding:16px;display:flex;align-items:center;justify-content:space-between;border-radius:4px}  .toast .toast-title{font-weight:700}  .toast .toast-message{margin-left:8px}  .toast .toast-icon{font-size:24px}  .toast.toast-success{background-color:#2e7d32;color:#fff}  .toast.toast-error{background-color:#c62828;color:#fff}  .toast.toast-warning{background-color:#ff8f00;color:#fff}  .toast   .toast-success .toast-icon{color:#fff}  .toast   .toast-error .toast-icon{color:#fff}  .toast   .toast-warning .toast-icon{color:#fff}"]}),n})();function Ce(n,o){1&n&&t._UZ(0,"mat-spinner")}function xe(n,o){1&n&&(t.TgZ(0,"div"),t._uU(1,"No users found."),t.qZA())}function ve(n,o){if(1&n&&(t.ynx(0),t._UZ(1,"img",18),t.BQk()),2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.xp6(1),t.Q6J("src",i.FILE_URL+e.profile_img,t.LSH)}}function be(n,o){1&n&&(t.TgZ(0,"mat-icon",19),t._uU(1,"person"),t.qZA())}function Pe(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"mat-card-content",11)(1,"mat-card-header",12)(2,"div"),t.YNc(3,ve,2,1,"ng-container",13),t.YNc(4,be,2,0,"ng-template",null,14,t.W1O),t.qZA(),t.O4$(),t.TgZ(6,"svg",15),t.NdJ("click",function(){const s=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.sendFriendRequest(s))}),t._UZ(7,"path",16),t.qZA(),t.kcU(),t.TgZ(8,"mat-card-title",17),t._uU(9),t.qZA()()()}if(2&n){const e=o.$implicit,i=t.MAs(5);t.xp6(3),t.Q6J("ngIf",e.profile_img)("ngIfElse",i),t.xp6(6),t.AsE(" ",e.first_name," ",e.last_name," ")}}function Me(n,o){if(1&n&&(t.TgZ(0,"div",9),t.YNc(1,Pe,10,4,"mat-card-content",10),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.users)}}function Oe(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",20),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.loadMore())}),t._uU(1," Load More "),t.qZA()}}const we=function(){return["/home"]};let ye=(()=>{class n{constructor(e,i){this.apiService=e,this.helperService=i,this.users=[],this.loading=!1,this.FILE_URL=w.N.FILE_URL,this.friendRequests=[],this.showRequests=!1,this.totalCount=0,this.pageSize=8,this.currentPage=0,this.searchQuery=""}ngOnInit(){const e=localStorage.getItem("User");if(e){const i=JSON.parse(e);this.userId=i.user_id,this.loadUsers()}}loadUsers(e=this.currentPage,i=this.pageSize,r=this.searchQuery){this.loading||(this.loading=!0,this.apiService.postData("friendSuggestion",{user_id:this.userId,page:e,limit:i,search_query:r}).subscribe({next:a=>{"1"==a.status?(this.users=0==e?a.details:[...this.users,...a.details],this.totalCount=a.total_count,this.currentPage=e+1):this.helperService.error(a.msg),this.loading=!1},error:()=>{this.helperService.error("Error fetching friend suggestions. Please try again."),this.loading=!1}}))}loadMore(){this.loadUsers(this.currentPage,this.pageSize,this.searchQuery)}onSearchChange(){this.currentPage=0,this.users=[],this.loadUsers(0,this.pageSize,this.searchQuery)}sendFriendRequest(e){this.apiService.postData("sendFriendRequest",{sender_id:this.userId,receiver_id:Number(e.user_id)}).subscribe({next:i=>{"success"===i.status?(this.helperService.success(i.msg),this.loadUsers()):this.helperService.info(i.msg)},error:()=>{this.helperService.info("Error sending friend request. Please try again.")}})}loadFriendRequests(){this.apiService.postData("friends_request_list",{user_id:this.userId}).subscribe({next:i=>{"1"===i.status?this.friendRequests=i.details:this.helperService.error(i.msg),this.loading=!1},error:()=>{this.helperService.error("Error fetching friend requests. Please try again."),this.loading=!1}})}toggleView(){this.showRequests=!this.showRequests,this.showRequests&&this.loadFriendRequests()}confirmRequest(e){this.apiService.postData("respondFriendRequest",{request_id:e.request_id,status:"accepted"}).subscribe({next:r=>{"1"===r.status?(this.helperService.success(`Friend request from ${e.first_name} confirmed`),this.friendRequests=this.friendRequests.filter(s=>s.request_id!==e.request_id)):this.helperService.success(r.msg)},error:()=>{this.helperService.error("Error confirming friend request. Please try again.")}})}cancelRequest(e){this.apiService.postData("respondFriendRequest",{request_id:e.request_id,status:"rejected"}).subscribe({next:r=>{"1"===r.status?(this.helperService.success(`Friend request from ${e.first_name} cancelled`),this.friendRequests=this.friendRequests.filter(s=>s.request_id!==e.request_id)):this.helperService.error(r.msg)},error:()=>{this.helperService.error("Error cancelling friend request. Please try again.")}})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(x.s),t.Y36(v.W))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-all-suggestions"]],decls:16,vars:7,consts:[[1,"all-suggestions-card"],["mat-button","",3,"routerLink"],[4,"ngIf"],[1,"input-group"],["data-mdb-input-init","",1,"form-outline"],["id","search-input","type","search","placeholder","Search",1,"form-control",3,"ngModel","ngModelChange"],["for","search-input",1,"form-label"],["class","all-suggestions-card-2",4,"ngIf"],["mat-button","","color","accent",3,"click",4,"ngIf"],[1,"all-suggestions-card-2"],["class","suggestion-card",4,"ngFor","ngForOf"],[1,"suggestion-card"],[1,"profile-container"],[4,"ngIf","ngIfElse"],["defaultIcon",""],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 640 512",1,"svg-img",3,"click"],["d","M96 128a128 128 0 1 1 256 0A128 128 0 1 1 96 128zM0 482.3C0 383.8 79.8 304 178.3 304l91.4 0C368.2 304 448 383.8 448 482.3c0 16.4-13.3 29.7-29.7 29.7L29.7 512C13.3 512 0 498.7 0 482.3zM504 312l0-64-64 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l64 0 0-64c0-13.3 10.7-24 24-24s24 10.7 24 24l0 64 64 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-64 0 0 64c0 13.3-10.7 24-24 24s-24-10.7-24-24z"],[1,"mb-0"],["alt","Profile Image",1,"profile-pic",3,"src"],["matCardIcon",""],["mat-button","","color","accent",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title"),t._uU(3," Friends Suggestions"),t.qZA(),t.TgZ(4,"button",1),t._uU(5,"Back"),t.qZA()(),t.TgZ(6,"mat-card-content"),t.YNc(7,Ce,1,0,"mat-spinner",2),t._UZ(8,"br"),t.TgZ(9,"div",3)(10,"div",4)(11,"input",5),t.NdJ("ngModelChange",function(s){return i.searchQuery=s})("ngModelChange",function(){return i.onSearchChange()}),t.qZA(),t._UZ(12,"label",6),t.qZA()(),t.YNc(13,xe,2,0,"div",2),t.YNc(14,Me,2,1,"div",7),t.YNc(15,Oe,2,0,"button",8),t.qZA()()),2&e&&(t.xp6(4),t.Q6J("routerLink",t.DdM(6,we)),t.xp6(3),t.Q6J("ngIf",i.loading),t.xp6(4),t.Q6J("ngModel",i.searchQuery),t.xp6(2),t.Q6J("ngIf",!i.loading&&0==i.users.length),t.xp6(1),t.Q6J("ngIf",!i.loading&&i.users.length>0),t.xp6(1),t.Q6J("ngIf",i.totalCount>i.users.length))},dependencies:[d.sg,d.O5,C.rH,g.Fj,g.JJ,c.a8,c.dk,c.dn,c.n5,g.On,M.Hw,h.lW,Z.Ou],styles:[".all-suggestions-card[_ngcontent-%COMP%]{max-width:100%;margin:20px;padding:20px;box-shadow:0 4px 8px #0000001a;border-radius:8px;background-color:#fff;position:relative}.all-suggestions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background-color:#f5f5f5;border-bottom:1px solid #ddd;padding:10px 20px}.all-suggestions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-size:1.2em;font-weight:700;color:#333}.all-suggestions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#1976d2;font-weight:500}.all-suggestions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#0d47a1}.all-suggestions-card[_ngcontent-%COMP%]   .all-suggestions-card-2[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;column-gap:20px}.svg-img[_ngcontent-%COMP%]{width:24px;height:24px;position:absolute;right:15px;top:25px}mat-card-content[_ngcontent-%COMP%]   .suggestion-card[_ngcontent-%COMP%]{padding:25px 0;width:24%}mat-card-content[_ngcontent-%COMP%]   .suggestion-card[_ngcontent-%COMP%]:last-child{border-bottom:none}mat-card-content[_ngcontent-%COMP%]   .suggestion-card[_ngcontent-%COMP%]   .profile-container[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:20px;flex-direction:row-reverse;height:200px;background-color:#f0f0f2;justify-content:center;width:350px;position:relative}mat-card-content[_ngcontent-%COMP%]   .suggestion-card[_ngcontent-%COMP%]   .profile-container[_ngcontent-%COMP%]   .profile-pic[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;object-fit:cover;margin-right:10px}mat-card-content[_ngcontent-%COMP%]   .suggestion-card[_ngcontent-%COMP%]   .profile-container[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:40px;color:#757575;width:40px;height:40px}mat-card-content[_ngcontent-%COMP%]   .suggestion-card[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{flex:1}mat-card-content[_ngcontent-%COMP%]   .suggestion-card[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   mat-line[_ngcontent-%COMP%]{font-size:1em;color:#333}mat-card-content[_ngcontent-%COMP%]   .suggestion-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:auto;height:36px}mat-spinner[_ngcontent-%COMP%]{display:block;margin:20px auto}  .toast-container{position:fixed;top:80px;right:10px;z-index:1000;pointer-events:none}  .toast{min-width:300px;padding:16px;display:flex;align-items:center;justify-content:space-between;border-radius:4px}  .toast .toast-title{font-weight:700}  .toast .toast-message{margin-left:8px}  .toast .toast-icon{font-size:24px}  .toast.toast-success{background-color:#2e7d32;color:#fff}  .toast.toast-error{background-color:#c62828;color:#fff}  .toast.toast-warning{background-color:#ff8f00;color:#fff}  .toast   .toast-success .toast-icon{color:#fff}  .toast   .toast-error .toast-icon{color:#fff}  .toast   .toast-warning .toast-icon{color:#fff}"]}),n})();var V=l(8739);function Se(n,o){1&n&&t._UZ(0,"mat-spinner")}function Te(n,o){1&n&&(t.TgZ(0,"div"),t._uU(1,"No friends found."),t.qZA())}function Ze(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"img",17),t.NdJ("click",function(){t.CHM(e);const r=t.oxw().$implicit,s=t.oxw(2);return t.KtG(s.openProfile(r.user_id))}),t.qZA(),t.BQk()}if(2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.xp6(1),t.Q6J("src",i.FILE_URL+e.profile_img,t.LSH)}}function Ie(n,o){1&n&&(t.TgZ(0,"mat-icon",18),t._uU(1,"person"),t.qZA())}function Fe(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"mat-card-content",11)(1,"mat-card-header",12)(2,"div"),t.YNc(3,Ze,2,1,"ng-container",13),t.YNc(4,Ie,2,0,"ng-template",null,14,t.W1O),t.qZA(),t.TgZ(6,"img",15),t.NdJ("click",function(){const s=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.openConversation(s.user_id))}),t.qZA(),t.TgZ(7,"mat-card-title",16),t.NdJ("click",function(){const s=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.openProfile(s.user_id))}),t._uU(8),t.qZA()()()}if(2&n){const e=o.$implicit,i=t.MAs(5);t.xp6(3),t.Q6J("ngIf",e.profile_img)("ngIfElse",i),t.xp6(5),t.AsE(" ",e.first_name," ",e.last_name," ")}}function ke(n,o){if(1&n&&(t.TgZ(0,"div",9),t.YNc(1,Fe,9,4,"mat-card-content",10),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.friends)}}function Ae(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",19),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.loadMore())}),t._uU(1," Load More "),t.qZA()}}const Ue=function(){return["/home"]};function Ne(n,o){if(1&n&&(t.TgZ(0,"mat-list-item")(1,"div")(2,"p")(3,"b"),t._uU(4),t.qZA(),t._uU(5),t.qZA()()()),2&n){const e=o.$implicit;t.xp6(4),t.hij("",e.notification_title,":"),t.xp6(1),t.hij(" ",e.notification_desc,"")}}function Je(n,o){if(1&n&&t._UZ(0,"img",12),2&n){const e=t.oxw(2);t.Q6J("src",e.FILE_URL+e.user.profile_img,t.LSH)}}function De(n,o){if(1&n&&(t.TgZ(0,"mat-card",4)(1,"mat-card-header",5)(2,"div",6),t.YNc(3,Je,1,1,"img",7),t.qZA()(),t.TgZ(4,"mat-card-content")(5,"div",8)(6,"mat-list",9)(7,"mat-list-item",10)(8,"mat-icon"),t._uU(9,"person"),t.qZA(),t.TgZ(10,"div",11)(11,"strong"),t._uU(12,"User Name:"),t.qZA(),t.TgZ(13,"p"),t._uU(14),t.qZA()()(),t.TgZ(15,"mat-list-item",10)(16,"mat-icon"),t._uU(17,"phone"),t.qZA(),t.TgZ(18,"div",11)(19,"span")(20,"strong"),t._uU(21,"Phone:"),t.qZA()(),t.TgZ(22,"p"),t._uU(23),t.qZA()()(),t.TgZ(24,"mat-list-item",10)(25,"mat-icon"),t._uU(26,"male"),t.qZA(),t.TgZ(27,"div",11)(28,"span")(29,"strong"),t._uU(30,"Gender:"),t.qZA()(),t.TgZ(31,"p"),t._uU(32),t.qZA()()(),t.TgZ(33,"mat-list-item",10)(34,"mat-icon"),t._uU(35,"public"),t.qZA(),t.TgZ(36,"div",11)(37,"span")(38,"strong"),t._uU(39,"Country:"),t.qZA()(),t.TgZ(40,"p"),t._uU(41),t.qZA()()(),t.TgZ(42,"mat-list-item",10)(43,"mat-icon"),t._uU(44,"location_on"),t.qZA(),t.TgZ(45,"div",11)(46,"span")(47,"strong"),t._uU(48,"State:"),t.qZA()(),t.TgZ(49,"p"),t._uU(50),t.qZA()()(),t.TgZ(51,"mat-list-item",10)(52,"mat-icon"),t._uU(53,"location_city"),t.qZA(),t.TgZ(54,"div",11)(55,"span")(56,"strong"),t._uU(57,"City:"),t.qZA()(),t.TgZ(58,"p"),t._uU(59),t.qZA()()()()()()()),2&n){const e=t.oxw();t.xp6(3),t.Q6J("ngIf",e.user.profile_img),t.xp6(11),t.AsE("",e.user.first_name," ",e.user.last_name,""),t.xp6(9),t.Oqu(e.user.mobile),t.xp6(9),t.Oqu(e.user.gender),t.xp6(9),t.Oqu(e.user.country),t.xp6(9),t.Oqu(e.user.state),t.xp6(9),t.Oqu(e.user.city)}}function Re(n,o){if(1&n&&t._UZ(0,"img",22),2&n){const e=t.oxw().$implicit,i=t.oxw();t.Q6J("src",i.FILE_URL+e.img,t.LSH)}}function Le(n,o){if(1&n&&t._UZ(0,"video",23),2&n){const e=t.oxw().$implicit,i=t.oxw();t.Q6J("src",i.FILE_URL+e.video,t.LSH)}}function Qe(n,o){if(1&n&&(t.TgZ(0,"mat-list-item"),t._UZ(1,"img",15),t.TgZ(2,"div",25),t._uU(3),t.qZA()()),2&n){const e=o.$implicit;t.xp6(1),t.s9C("alt",e.userName),t.Q6J("src",e.userProfilePic,t.LSH),t.xp6(2),t.AsE("",e.userName,": ",e.text,"")}}function Ye(n,o){if(1&n&&(t.TgZ(0,"mat-card-content")(1,"mat-list"),t.YNc(2,Qe,4,4,"mat-list-item",24),t.qZA()()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.Q6J("ngForOf",e.comments)}}function He(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"mat-card",13)(1,"mat-card-header",14)(2,"div",0),t._UZ(3,"img",15),t.TgZ(4,"div",16)(5,"mat-card-title"),t._uU(6),t.qZA(),t.TgZ(7,"mat-card-subtitle"),t._uU(8),t.qZA()()()(),t.TgZ(9,"mat-card-content")(10,"p"),t._uU(11),t.qZA(),t.TgZ(12,"div",17),t.YNc(13,Re,1,1,"img",18),t.YNc(14,Le,1,1,"video",19),t.qZA()(),t.TgZ(15,"mat-card-actions")(16,"button",20),t.NdJ("click",function(){const s=t.CHM(e).$implicit,a=t.oxw();return t.KtG(a.viewPostDetails(s.id))}),t.TgZ(17,"mat-icon"),t._uU(18,"info"),t.qZA()(),t.TgZ(19,"button",20),t.NdJ("click",function(){const s=t.CHM(e).$implicit,a=t.oxw();return t.KtG(a.viewPostDetails(s.id))}),t.TgZ(20,"mat-icon"),t._uU(21,"comment"),t.qZA()()(),t.YNc(22,Ye,3,1,"mat-card-content",21),t.qZA()}if(2&n){const e=o.$implicit,i=t.oxw();t.xp6(3),t.s9C("alt",i.user.first_name+" "+i.user.last_name),t.Q6J("src",i.FILE_URL+i.user.profile_img,t.LSH),t.xp6(3),t.Oqu(i.user.first_name+" "+i.user.last_name),t.xp6(2),t.Oqu(e.title),t.xp6(3),t.Oqu(e.desc),t.xp6(2),t.Q6J("ngIf",e.img),t.xp6(1),t.Q6J("ngIf",e.video),t.xp6(8),t.Q6J("ngIf",e.comments&&e.comments.length>0)}}function je(n,o){if(1&n&&(t.TgZ(0,"mat-option",19),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}function $e(n,o){if(1&n&&(t.TgZ(0,"div",20),t._UZ(1,"img",21),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("src",e.imagePreview,t.LSH)}}function Ve(n,o){if(1&n&&(t.TgZ(0,"div",20),t._UZ(1,"video",22),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("src",e.videoPreview,t.LSH)}}const Be=[{path:"",component:le},{path:"friends-list",component:H},{path:"post-details/:id",component:he},{path:"all-suggestions",component:ye},{path:"all-firends-list",component:(()=>{class n{constructor(e,i,r){this.apiService=e,this.helperService=i,this.router=r,this.friends=[],this.loading=!0,this.FILE_URL=w.N.FILE_URL,this.totalCount=0,this.searchQuery="",this.currentPage=0,this.pageSize=8}ngOnInit(){const e=localStorage.getItem("User");if(e){const i=JSON.parse(e);this.userId=i.user_id,this.loadFriends()}}loadFriends(e=0,i=this.pageSize,r=this.searchQuery){this.loading=!0,this.apiService.postData("friends_list",{user_id:this.userId,page:e,limit:i,search_query:r}).subscribe({next:a=>{"1"==a.status?(this.friends=0==e?a.details:[...this.friends,...a.details],this.totalCount=a.total_count):this.helperService.error(a.msg),this.loading=!1},error:a=>{this.helperService.error("Error fetching friends list. Please try again."),this.loading=!1}})}loadMore(){this.currentPage++,this.loadFriends(this.currentPage,this.pageSize,this.searchQuery)}onPageChange(e){this.loadFriends(e.pageIndex,e.pageSize,this.searchQuery)}onSearchChange(){this.paginator.pageIndex=0,this.loadFriends(0,this.pageSize,this.searchQuery)}openProfile(e){this.router.navigate(["/home/friendprofile",e])}openConversation(e){console.log("Opening conversation with friend ID:",e),e?this.router.navigate(["/messages/conversations"],{queryParams:{userId:e}}):console.error("Friend ID is undefined.")}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(x.s),t.Y36(v.W),t.Y36(C.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-all-friends-list"]],viewQuery:function(e,i){if(1&e&&t.Gf(V.NW,5),2&e){let r;t.iGM(r=t.CRH())&&(i.paginator=r.first)}},decls:16,vars:7,consts:[[1,"all-friends-card"],["mat-button","",3,"routerLink"],[4,"ngIf"],[1,"input-group"],["data-mdb-input-init","",1,"form-outline"],["id","search-input","type","search","id","form1","placeholder","Search",1,"form-control",3,"ngModel","ngModelChange"],["for","form1",1,"form-label"],["class","all-friends-card-2",4,"ngIf"],["mat-button","","color","accent",3,"click",4,"ngIf"],[1,"all-friends-card-2"],["class","friend-card",4,"ngFor","ngForOf"],[1,"friend-card"],[1,"profile-container"],[4,"ngIf","ngIfElse"],["defaultIcon",""],["width","24","height","24","src","https://img.icons8.com/material-rounded/24/comments--v1.png","alt","comments--v1",1,"svg-img",3,"click"],[1,"mb-0",3,"click"],["alt","Profile Image",1,"profile-pic",3,"src","click"],["matCardIcon",""],["mat-button","","color","accent",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title"),t._uU(3,"Friends"),t.qZA(),t.TgZ(4,"button",1),t._uU(5,"Back"),t.qZA()(),t.TgZ(6,"mat-card-content"),t.YNc(7,Se,1,0,"mat-spinner",2),t._UZ(8,"br"),t.TgZ(9,"div",3)(10,"div",4)(11,"input",5),t.NdJ("ngModelChange",function(s){return i.searchQuery=s})("ngModelChange",function(){return i.onSearchChange()}),t.qZA(),t._UZ(12,"label",6),t.qZA()(),t.YNc(13,Te,2,0,"div",2),t.YNc(14,ke,2,1,"div",7),t.YNc(15,Ae,2,0,"button",8),t.qZA()()),2&e&&(t.xp6(4),t.Q6J("routerLink",t.DdM(6,Ue)),t.xp6(3),t.Q6J("ngIf",i.loading),t.xp6(4),t.Q6J("ngModel",i.searchQuery),t.xp6(2),t.Q6J("ngIf",!i.loading&&0==i.friends.length),t.xp6(1),t.Q6J("ngIf",!i.loading&&i.friends.length>0),t.xp6(1),t.Q6J("ngIf",i.totalCount>i.friends.length))},dependencies:[d.sg,d.O5,C.rH,g.Fj,g.JJ,c.a8,c.dk,c.dn,c.n5,g.On,M.Hw,h.lW,Z.Ou],styles:[".all-friends-card[_ngcontent-%COMP%]{max-width:100%;margin:20px;padding:20px;box-shadow:0 4px 8px #0000001a;border-radius:8px;background-color:#fff;position:relative}.all-friends-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background-color:#f5f5f5;border-bottom:1px solid #ddd;padding:10px 20px}.all-friends-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-size:1.2em;font-weight:700;color:#333}.all-friends-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#1976d2;font-weight:500}.all-friends-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#0d47a1}.all-friends-card[_ngcontent-%COMP%]   .all-friends-card-2[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;column-gap:20px}mat-card-content[_ngcontent-%COMP%]   .friend-card[_ngcontent-%COMP%]{padding:25px 0;width:24%}mat-card-content[_ngcontent-%COMP%]   .friend-card[_ngcontent-%COMP%]:last-child{border-bottom:none}mat-card-content[_ngcontent-%COMP%]   .friend-card[_ngcontent-%COMP%]   .profile-container[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:20px;flex-direction:row-reverse;height:200px;background-color:#f0f0f2;justify-content:center;width:350px;position:relative}mat-card-content[_ngcontent-%COMP%]   .friend-card[_ngcontent-%COMP%]   .profile-container[_ngcontent-%COMP%]   .profile-pic[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;object-fit:cover;margin-right:10px}mat-card-content[_ngcontent-%COMP%]   .friend-card[_ngcontent-%COMP%]   .profile-container[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:40px;color:#757575;width:40px;height:40px}mat-card-content[_ngcontent-%COMP%]   .friend-card[_ngcontent-%COMP%]   .profile-container[_ngcontent-%COMP%]   .svg-img[_ngcontent-%COMP%]{position:absolute;right:15px;top:25px}mat-card-content[_ngcontent-%COMP%]   .friend-card[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{flex:1}mat-card-content[_ngcontent-%COMP%]   .friend-card[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   mat-line[_ngcontent-%COMP%]{font-size:1em;color:#333}mat-card-content[_ngcontent-%COMP%]   .friend-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:auto;height:36px}mat-spinner[_ngcontent-%COMP%]{display:block;margin:20px auto}  .toast-container{position:fixed;top:80px;right:10px;z-index:1000;pointer-events:none}  .toast{min-width:300px;padding:16px;display:flex;align-items:center;justify-content:space-between;border-radius:4px}  .toast .toast-title{font-weight:700}  .toast .toast-message{margin-left:8px}  .toast .toast-icon{font-size:24px}  .toast.toast-success{background-color:#2e7d32;color:#fff}  .toast.toast-error{background-color:#c62828;color:#fff}  .toast.toast-warning{background-color:#ff8f00;color:#fff}  .toast   .toast-success .toast-icon{color:#fff}  .toast   .toast-error .toast-icon{color:#fff}  .toast   .toast-warning .toast-icon{color:#fff}"]}),n})()},{path:"notifications",component:(()=>{class n{constructor(e){this.apiService=e,this.notifications=[]}ngOnInit(){const e=localStorage.getItem("User");if(e){const i=JSON.parse(e);this.userId=i.user_id}this.loadNotifications()}loadNotifications(){this.apiService.postData("get_notifications",{user_id:this.userId}).subscribe({next:i=>{"1"==i.status?this.notifications=i.msg:console.error(i.msg)},error:()=>{console.error("Error fetching notifications. Please try again.")}})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(x.s))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-notifications"]],decls:7,vars:1,consts:[[1,"notifications-card"],[4,"ngFor","ngForOf"]],template:function(e,i){1&e&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title"),t._uU(3,"Notifications"),t.qZA()(),t.TgZ(4,"mat-card-content")(5,"mat-list"),t.YNc(6,Ne,6,2,"mat-list-item",1),t.qZA()()()),2&e&&(t.xp6(6),t.Q6J("ngForOf",i.notifications))},dependencies:[d.sg,c.a8,c.dk,c.dn,c.n5,_.i$,_.Tg],styles:[".notifications-card[_ngcontent-%COMP%]{margin:20px}mat-list-item[_ngcontent-%COMP%]{display:flex;align-items:center}mat-icon[_ngcontent-%COMP%]{margin-right:10px}strong[_ngcontent-%COMP%]{display:block}"]}),n})()},{path:"friendprofile/:id",component:(()=>{class n{constructor(e,i,r,s){this.apiService=e,this.helperService=i,this.route=r,this.router=s,this.user={},this.posts=[],this.FILE_URL=w.N.FILE_URL,this.pageSize=10}ngOnInit(){this.friendId=this.route.snapshot.paramMap.get("id"),this.loadFriendProfile()}loadFriendProfile(){this.apiService.postData("profile_get",{user_id:this.friendId}).subscribe({next:i=>{1==i.status?(this.user=i.details,this.loadFriendTimeline()):this.helperService.error(i.msg)}})}loadFriendTimeline(e=0,i=this.pageSize){this.apiService.postData("get_user_timeline",{user_id:this.friendId,page:e,limit:i}).subscribe({next:s=>{1==s.status?this.posts=s.post:this.helperService.error(s.msg)}})}viewPostDetails(e){this.router.navigate(["/home/post-details",e])}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(x.s),t.Y36(v.W),t.Y36(C.gz),t.Y36(C.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-friend-profile"]],decls:4,vars:2,consts:[[1,"profile-container"],["class","user-profile-card",4,"ngIf"],[1,"user-post-wrapper"],["class","feed-post",4,"ngFor","ngForOf"],[1,"user-profile-card"],[1,"profile-header"],[1,"profile-image-container"],["alt","Profile Picture","class","profile-image",3,"src",4,"ngIf"],[1,"profile-details"],[1,"user-details-wrapper"],[1,"user-details-list"],[1,"list-item-content"],["alt","Profile Picture",1,"profile-image",3,"src"],[1,"feed-post"],[1,"dfsdfsd"],[1,"profile-pic",3,"src","alt"],[1,"profile-info"],[1,"media-container"],["class","post-image",3,"src",4,"ngIf"],["controls","","class","post-video",3,"src",4,"ngIf"],["mat-button","",3,"click"],[4,"ngIf"],[1,"post-image",3,"src"],["controls","",1,"post-video",3,"src"],[4,"ngFor","ngForOf"],["mat-line",""]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.YNc(1,De,60,8,"mat-card",1),t.TgZ(2,"div",2),t.YNc(3,He,23,8,"mat-card",3),t.qZA()()),2&e&&(t.xp6(1),t.Q6J("ngIf",i.user),t.xp6(2),t.Q6J("ngForOf",i.posts))},dependencies:[d.sg,d.O5,c.a8,c.dk,c.dn,c.n5,c.$j,c.hq,_.i$,_.Tg,O.X2,M.Hw,h.lW],styles:[".user-profile-card[_ngcontent-%COMP%]{max-width:100%;margin:20px auto;padding:20px;box-shadow:0 4px 8px #0000001a;border-radius:8px}.user-profile-card[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:16px;color:#007bff}.user-profile-card[_ngcontent-%COMP%]   .profile-actions[_ngcontent-%COMP%]{margin-top:20px}.user-profile-card[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]{display:flex;align-items:center;padding-bottom:20px}.user-profile-card[_ngcontent-%COMP%]   .profile-image-container[_ngcontent-%COMP%]{margin-right:20px}.user-profile-card[_ngcontent-%COMP%]   .list-item-content[_ngcontent-%COMP%]{flex:1}.user-profile-card[_ngcontent-%COMP%]   .list-item-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;font-weight:700;color:#333}.user-profile-card[_ngcontent-%COMP%]   .list-item-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#555}.feed-post[_ngcontent-%COMP%]{margin:16px;padding:16px;border-radius:8px;box-shadow:0 2px 5px #0000001a}.feed-post[_ngcontent-%COMP%]   .mat-card-header[_ngcontent-%COMP%]{display:flex;align-items:flex-start;padding-bottom:8px}.feed-post[_ngcontent-%COMP%]   .profile-container[_ngcontent-%COMP%]{display:flex;align-items:flex-start;width:100%}.feed-post[_ngcontent-%COMP%]   .profile-pic[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;margin-right:12px;object-fit:cover}.feed-post[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.feed-post[_ngcontent-%COMP%]   .mat-card-title[_ngcontent-%COMP%]{font-weight:700}.feed-post[_ngcontent-%COMP%]   .mat-card-subtitle[_ngcontent-%COMP%]{color:#0009}.feed-post[_ngcontent-%COMP%]   .post-image[_ngcontent-%COMP%]{width:auto;max-width:500px;max-height:500px;border-radius:8px;margin-top:8px;object-fit:cover}.feed-post[_ngcontent-%COMP%]   .post-video[_ngcontent-%COMP%]{width:auto;max-width:300px;max-height:300px;border-radius:8px;margin-top:8px}.feed-post[_ngcontent-%COMP%]   .media-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.feed-post[_ngcontent-%COMP%]   .mat-card-actions[_ngcontent-%COMP%]{display:flex;gap:8px;margin-top:16px}.feed-post[_ngcontent-%COMP%]   .mat-card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{text-transform:none}.feed-post[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]{margin-top:8px}.feed-post[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]{margin-top:16px}.feed-post[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:8px}.feed-post[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   .profile-pic[_ngcontent-%COMP%]{width:30px;height:30px;margin-right:8px}.feed-post[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   .mat-line[_ngcontent-%COMP%]{font-size:14px;color:#000000b3}.file-input-row[_ngcontent-%COMP%]{display:flex;gap:16px;margin-bottom:16px}.file-input-container[_ngcontent-%COMP%]{display:flex;align-items:center;flex:1}.file-label[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer;font-size:16px;color:#007bff;background:#f8f9fa;border:1px solid #ddd;padding:8px 12px;border-radius:4px;margin-right:10px}.file-label[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-right:8px}.file-input[_ngcontent-%COMP%]{display:none}.profile-container[_ngcontent-%COMP%]{display:flex}.user-post-wrapper[_ngcontent-%COMP%]{width:80%}.user-profile-card[_ngcontent-%COMP%]{width:25%}.user-profile-card[_ngcontent-%COMP%]   .profile-image[_ngcontent-%COMP%]{width:130px;height:130px;border-radius:50%}"]}),n})()},{path:"add-story",component:(()=>{class n{constructor(e,i,r){this.apiService=e,this.helperService=i,this.router=r,this.storyContent="",this.imagePreview=null,this.videoPreview=null,this.imageFile=null,this.videoFile=null,this.titleOptions=["study","lunch","work","movie","chilling","travelling","Fitness","Shopping","Sports"],this.selectedTitle="",this.expiresIn=4}ngOnInit(){const e=localStorage.getItem("User");if(e){const i=JSON.parse(e);this.userId=i.user_id}}onImageChange(e){const i=e.target;if(i.files&&i.files[0]){this.imageFile=i.files[0];const r=new FileReader;r.onload=()=>{this.imagePreview=r.result},r.readAsDataURL(this.imageFile)}}onVideoChange(e){const i=e.target;if(i.files&&i.files[0]){this.videoFile=i.files[0];const r=new FileReader;r.onload=()=>{this.videoPreview=r.result},r.readAsDataURL(this.videoFile)}}createStory(){if(!this.storyContent)return void this.helperService.warning("Story content is required");if(!this.userId)return void this.helperService.error("User ID is not available. Please log in again.");const e=new FormData;e.append("desc",this.storyContent),e.append("user_id",this.userId.toString()),e.append("title",this.selectedTitle),e.append("expires_in",this.expiresIn.toString()),this.imageFile&&e.append("img",this.imageFile,this.imageFile.name),this.videoFile&&e.append("video",this.videoFile,this.videoFile.name),this.apiService.postData("add_stories",e,!0).subscribe({next:i=>{"1"==i.status?(this.helperService.success(i.msg),this.router.navigate(["/home"]),this.resetForm()):this.helperService.error(i.msg)},error:()=>{this.helperService.error("Error adding story. Please try again.")}})}resetForm(){this.storyContent="",this.imageFile=null,this.videoFile=null,this.imagePreview=null,this.videoPreview=null,this.selectedTitle=""}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(x.s),t.Y36(v.W),t.Y36(C.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-stories"]],decls:27,vars:5,consts:[[1,"new-story-card"],["appearance","fill"],["matInput","","rows","3",3,"ngModel","ngModelChange"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"file-input-row"],[1,"file-input-container"],["for","imageInput",1,"file-label"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-image-fill"],["d","M.002 3a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-12a2 2 0 0 1-2-2zm1 9v1a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V9.5l-3.777-1.947a.5.5 0 0 0-.577.093l-3.71 3.71-2.66-1.772a.5.5 0 0 0-.63.062zm5-6.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0"],["id","imageInput","type","file","accept","image/*",1,"file-input",3,"change"],["for","videoInput",1,"file-label"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-camera-reels-fill"],["d","M6 3a3 3 0 1 1-6 0 3 3 0 0 1 6 0"],["d","M9 6a3 3 0 1 1 0-6 3 3 0 0 1 0 6"],["d","M9 6h.5a2 2 0 0 1 1.983 1.738l3.11-1.382A1 1 0 0 1 16 7.269v7.462a1 1 0 0 1-1.406.913l-3.111-1.382A2 2 0 0 1 9.5 16H2a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z"],["id","videoInput","type","file","accept","video/*",1,"file-input",3,"change"],["class","media-preview",4,"ngIf"],["width","100","height","100","src","https://img.icons8.com/bubbles/100/upload.png","alt","upload",1,"button",3,"click"],[3,"value"],[1,"media-preview"],["alt","Image Preview",1,"media-preview-image",3,"src"],["controls","",1,"media-preview-video",3,"src"]],template:function(e,i){1&e&&(t.TgZ(0,"mat-card",0)(1,"mat-card-content")(2,"mat-form-field",1)(3,"mat-label"),t._uU(4,"Story Content"),t.qZA(),t.TgZ(5,"input",2),t.NdJ("ngModelChange",function(s){return i.storyContent=s}),t.qZA()(),t.TgZ(6,"mat-form-field",1)(7,"mat-label"),t._uU(8,"Title"),t.qZA(),t.TgZ(9,"mat-select",3),t.NdJ("ngModelChange",function(s){return i.selectedTitle=s}),t.YNc(10,je,2,2,"mat-option",4),t.qZA()(),t.TgZ(11,"div",5)(12,"div",6)(13,"label",7),t.O4$(),t.TgZ(14,"svg",8),t._UZ(15,"path",9),t.qZA()(),t.kcU(),t.TgZ(16,"input",10),t.NdJ("change",function(s){return i.onImageChange(s)}),t.qZA()(),t.TgZ(17,"div",6)(18,"label",11),t.O4$(),t.TgZ(19,"svg",12),t._UZ(20,"path",13)(21,"path",14)(22,"path",15),t.qZA()(),t.kcU(),t.TgZ(23,"input",16),t.NdJ("change",function(s){return i.onVideoChange(s)}),t.qZA()()(),t.YNc(24,$e,2,1,"div",17),t.YNc(25,Ve,2,1,"div",17),t.TgZ(26,"img",18),t.NdJ("click",function(){return i.createStory()}),t.qZA()()()),2&e&&(t.xp6(5),t.Q6J("ngModel",i.storyContent),t.xp6(4),t.Q6J("ngModel",i.selectedTitle),t.xp6(1),t.Q6J("ngForOf",i.titleOptions),t.xp6(14),t.Q6J("ngIf",i.imagePreview),t.xp6(1),t.Q6J("ngIf",i.videoPreview))},dependencies:[d.sg,d.O5,g.Fj,g.JJ,c.a8,c.dn,P.KE,P.hX,g.On,T.Nt,O.ey,F.gD],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;height:80vh}.new-story-card[_ngcontent-%COMP%]{margin:20px;padding:20px;background-color:#fff;border-radius:8px;box-shadow:0 2px 10px #0000001a;width:400px}.new-story-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{display:flex;flex-direction:column}.new-story-card[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{margin-bottom:20px}.new-story-card[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]   .mat-label[_ngcontent-%COMP%]{color:#333}.new-story-card[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{padding:10px}.new-story-card[_ngcontent-%COMP%]   .file-input-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:20px}.new-story-card[_ngcontent-%COMP%]   .file-input-row[_ngcontent-%COMP%]   .file-input-container[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;justify-content:center;position:relative;margin-right:10px}.new-story-card[_ngcontent-%COMP%]   .file-input-row[_ngcontent-%COMP%]   .file-input-container[_ngcontent-%COMP%]:last-child{margin-right:0}.new-story-card[_ngcontent-%COMP%]   .file-input-row[_ngcontent-%COMP%]   .file-input-container[_ngcontent-%COMP%]   .file-label[_ngcontent-%COMP%]{cursor:pointer;display:inline-flex;align-items:center;padding:10px;border:1px dashed #aaa;border-radius:4px;transition:border-color .3s}.new-story-card[_ngcontent-%COMP%]   .file-input-row[_ngcontent-%COMP%]   .file-input-container[_ngcontent-%COMP%]   .file-label[_ngcontent-%COMP%]:hover{border-color:#007bff}.new-story-card[_ngcontent-%COMP%]   .file-input-row[_ngcontent-%COMP%]   .file-input-container[_ngcontent-%COMP%]   .file-label[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:24px;height:24px;fill:#007bff}.new-story-card[_ngcontent-%COMP%]   .file-input-row[_ngcontent-%COMP%]   .file-input-container[_ngcontent-%COMP%]   .file-input[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;opacity:0;cursor:pointer}.new-story-card[_ngcontent-%COMP%]   .media-preview[_ngcontent-%COMP%]{margin-bottom:20px}.new-story-card[_ngcontent-%COMP%]   .media-preview-image[_ngcontent-%COMP%]{max-width:100%;height:400px;border-radius:4px;box-shadow:0 1px 5px #0003}.new-story-card[_ngcontent-%COMP%]   .media-preview-video[_ngcontent-%COMP%]{max-width:100%;border-radius:4px;box-shadow:0 1px 5px #0003}.new-story-card[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{align-self:flex-end;margin-top:10px}"]}),n})()},{path:"view-stories",component:$}];let Ke=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[C.Bz.forChild(Be),C.Bz]}),n})();var We=l(5589);l(9646),l(5577),l(4004),l(8505),l(9300),l(4986),l(4482),l(5403),l(8421),l(5963);let In=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({}),n})(),kn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[d.ez,O.BQ,O.BQ]}),n})(),An=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[d.ez,Ke,g.UX,c.QW,_.ie,P.lN,g.u5,M.Ps,T.c,h.ot,Z.Cq,L.ZX,O.Ng,F.LD,k.Tx,u.Is,We.Cl,V.TU,In,kn,Gt]}),n})()}}]);