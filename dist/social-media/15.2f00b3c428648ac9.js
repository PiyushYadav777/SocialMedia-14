"use strict";(self.webpackChunkSocialMedia=self.webpackChunkSocialMedia||[]).push([[15],{7015:(Y,h,a)=>{a.r(h),a.d(h,{ProfileModule:()=>Q});var f=a(6895),p=a(3060),x=a(2340),t=a(4650),P=a(5869),C=a(673),d=a(4633),U=a(3238),s=a(3546),Z=a(7392),u=a(4859),g=a(1561);function v(o,r){if(1&o&&t._UZ(0,"img",14),2&o){const e=t.oxw(2);t.Q6J("src",e.FILE_URL+e.user.profile_img,t.LSH)}}function T(o,r){if(1&o&&(t.TgZ(0,"mat-card",4)(1,"mat-card-header",5)(2,"div",6),t.YNc(3,v,1,1,"img",7),t.qZA(),t.TgZ(4,"mat-card-actions",8)(5,"button",9)(6,"mat-icon"),t._uU(7,"edit"),t.qZA()()()(),t.TgZ(8,"mat-card-content")(9,"div",10)(10,"mat-list",11)(11,"mat-list-item",12)(12,"mat-icon"),t._uU(13,"person"),t.qZA(),t.TgZ(14,"div",13)(15,"strong"),t._uU(16,"User Name:"),t.qZA(),t.TgZ(17,"p"),t._uU(18),t.qZA()()(),t.TgZ(19,"mat-list-item",12)(20,"mat-icon"),t._uU(21,"phone"),t.qZA(),t.TgZ(22,"div",13)(23,"span")(24,"strong"),t._uU(25,"Phone:"),t.qZA()(),t.TgZ(26,"p"),t._uU(27),t.qZA()()(),t.TgZ(28,"mat-list-item",12)(29,"mat-icon"),t._uU(30,"male"),t.qZA(),t.TgZ(31,"div",13)(32,"span")(33,"strong"),t._uU(34,"Gender:"),t.qZA()(),t.TgZ(35,"p"),t._uU(36),t.qZA()()(),t.TgZ(37,"mat-list-item",12)(38,"mat-icon"),t._uU(39,"public"),t.qZA(),t.TgZ(40,"div",13)(41,"span")(42,"strong"),t._uU(43,"Country:"),t.qZA()(),t.TgZ(44,"p"),t._uU(45),t.qZA()()(),t.TgZ(46,"mat-list-item",12)(47,"mat-icon"),t._uU(48,"location_on"),t.qZA(),t.TgZ(49,"div",13)(50,"span")(51,"strong"),t._uU(52,"State:"),t.qZA()(),t.TgZ(53,"p"),t._uU(54),t.qZA()()(),t.TgZ(55,"mat-list-item",12)(56,"mat-icon"),t._uU(57,"location_city"),t.qZA(),t.TgZ(58,"div",13)(59,"span")(60,"strong"),t._uU(61,"City:"),t.qZA()(),t.TgZ(62,"p"),t._uU(63),t.qZA()()()()()()()),2&o){const e=t.oxw();t.xp6(3),t.Q6J("ngIf",e.user.profile_img),t.xp6(15),t.AsE("",e.user.first_name," ",e.user.last_name,""),t.xp6(9),t.Oqu(e.user.mobile),t.xp6(9),t.Oqu(e.user.gender),t.xp6(9),t.Oqu(e.user.country),t.xp6(9),t.Oqu(e.user.state),t.xp6(9),t.Oqu(e.user.city)}}function b(o,r){if(1&o&&t._UZ(0,"img",27),2&o){const e=t.oxw().$implicit,n=t.oxw();t.Q6J("src",n.FILE_URL+e.img,t.LSH)}}function A(o,r){if(1&o&&t._UZ(0,"video",28),2&o){const e=t.oxw().$implicit,n=t.oxw();t.Q6J("src",n.FILE_URL+e.video,t.LSH)}}function I(o,r){if(1&o&&(t.TgZ(0,"mat-list-item"),t._UZ(1,"img",17),t.TgZ(2,"div",30),t._uU(3),t.qZA()()),2&o){const e=r.$implicit;t.xp6(1),t.s9C("alt",e.userName),t.Q6J("src",e.userProfilePic,t.LSH),t.xp6(2),t.AsE("",e.userName,": ",e.text,"")}}function y(o,r){if(1&o&&(t.TgZ(0,"mat-card-content")(1,"mat-list"),t.YNc(2,I,4,4,"mat-list-item",29),t.qZA()()),2&o){const e=t.oxw().$implicit;t.xp6(2),t.Q6J("ngForOf",e.comments)}}function q(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-card",15)(1,"mat-card-header",16)(2,"div",0),t._UZ(3,"img",17),t.TgZ(4,"div",18)(5,"mat-card-title"),t._uU(6),t.qZA(),t.TgZ(7,"mat-card-subtitle"),t._uU(8),t.qZA()(),t.TgZ(9,"button",19)(10,"mat-icon"),t._uU(11,"more_vert"),t.qZA()(),t.TgZ(12,"mat-menu",null,20)(14,"button",21)(15,"mat-icon"),t._uU(16,"edit"),t.qZA(),t._uU(17," Edit "),t.qZA(),t.TgZ(18,"button",21)(19,"mat-icon"),t._uU(20,"delete"),t.qZA(),t._uU(21," Delete "),t.qZA()()()(),t.TgZ(22,"mat-card-content")(23,"p"),t._uU(24),t.qZA(),t.TgZ(25,"div",22),t.YNc(26,b,1,1,"img",23),t.YNc(27,A,1,1,"video",24),t.qZA()(),t.TgZ(28,"mat-card-actions")(29,"button",25),t.NdJ("click",function(){const l=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.viewPostDetails(l.id))}),t.TgZ(30,"mat-icon"),t._uU(31,"info"),t.qZA()(),t.TgZ(32,"button",25),t.NdJ("click",function(){const l=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.viewPostDetails(l.id))}),t.TgZ(33,"mat-icon"),t._uU(34,"comment"),t.qZA()()(),t.YNc(35,y,3,1,"mat-card-content",26),t.qZA()}if(2&o){const e=r.$implicit,n=t.MAs(13),i=t.oxw();t.xp6(3),t.s9C("alt",i.user.first_name+" "+i.user.last_name),t.Q6J("src",i.FILE_URL+i.user.profile_img,t.LSH),t.xp6(3),t.Oqu(i.user.first_name+" "+i.user.last_name),t.xp6(2),t.Oqu(e.title),t.xp6(1),t.Q6J("matMenuTriggerFor",n),t.xp6(15),t.Oqu(e.desc),t.xp6(2),t.Q6J("ngIf",e.img),t.xp6(1),t.Q6J("ngIf",e.video),t.xp6(8),t.Q6J("ngIf",e.comments&&e.comments.length>0)}}let F=(()=>{class o{constructor(e,n,i){this.apiService=e,this.helperService=n,this.router=i,this.user={},this.userData=[],this.posts=[],this.FILE_URL=x.N.FILE_URL,this.pageSize=20,this.totalCount=0,this.userData=localStorage.getItem("User"),this.userData=JSON.parse(this.userData)}ngOnInit(){const e=localStorage.getItem("User");if(e){const n=JSON.parse(e);this.userId=n.user_id}this.loadUserProfile()}viewPostDetails(e){this.router.navigate(["/home/post-details",e])}loadUserProfile(){this.apiService.postData("profile_get",{user_id:this.userData.user_id}).subscribe({next:n=>{1==n.status?(this.user=n.details,this.totalCount=n.total_count,this.loadUserTimeline()):this.helperService.error(n.msg)}})}loadUserTimeline(e=0,n=this.pageSize){this.apiService.postData("get_user_timeline",{user_id:this.userId,page:e,limit:n}).subscribe({next:l=>{1==l.status?this.posts=l.post:this.helperService.error(l.msg)}})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(P.s),t.Y36(C.W),t.Y36(p.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-user-profile"]],decls:4,vars:2,consts:[[1,"profile-container"],["class","user-profile-card",4,"ngIf"],[1,"user-post-wrapper"],["class","feed-post",4,"ngFor","ngForOf"],[1,"user-profile-card"],[1,"profile-header"],[1,"profile-image-container"],["alt","Profile Picture","class","profile-image",3,"src",4,"ngIf"],[1,"profile-actions"],["mat-button","","color","accent","routerLink","/profile/edit-profile"],[1,"profile-details"],[1,"user-details-wrapper"],[1,"user-details-list"],[1,"list-item-content"],["alt","Profile Picture",1,"profile-image",3,"src"],[1,"feed-post"],[1,"dfsdfsd"],[1,"profile-pic",3,"src","alt"],[1,"profile-info"],["mat-icon-button","",3,"matMenuTriggerFor"],["optionsMenu","matMenu"],["mat-menu-item",""],[1,"media-container"],["class","post-image",3,"src",4,"ngIf"],["controls","","class","post-video",3,"src",4,"ngIf"],["mat-button","",3,"click"],[4,"ngIf"],[1,"post-image",3,"src"],["controls","",1,"post-video",3,"src"],[4,"ngFor","ngForOf"],["mat-line",""]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.YNc(1,T,64,8,"mat-card",1),t.TgZ(2,"div",2),t.YNc(3,q,36,9,"mat-card",3),t.qZA()()),2&e&&(t.xp6(1),t.Q6J("ngIf",n.user),t.xp6(2),t.Q6J("ngForOf",n.posts))},dependencies:[f.sg,f.O5,p.rH,d.i$,d.Tg,U.X2,s.a8,s.dk,s.dn,s.n5,s.$j,s.hq,Z.Hw,u.lW,g.VK,g.OP,g.p6],styles:[".user-profile-card[_ngcontent-%COMP%]{max-width:100%;margin:20px auto;padding:20px;box-shadow:0 4px 8px #0000001a;border-radius:8px}.user-profile-card[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:16px;color:#007bff}.user-profile-card[_ngcontent-%COMP%]   .profile-actions[_ngcontent-%COMP%]{margin-top:20px}.user-profile-card[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]{display:flex;align-items:center;padding-bottom:20px}.user-profile-card[_ngcontent-%COMP%]   .profile-image-container[_ngcontent-%COMP%]{margin-right:20px}.user-profile-card[_ngcontent-%COMP%]   .list-item-content[_ngcontent-%COMP%]{flex:1}.user-profile-card[_ngcontent-%COMP%]   .list-item-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;font-weight:700;color:#333}.user-profile-card[_ngcontent-%COMP%]   .list-item-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#555}.feed-post[_ngcontent-%COMP%]{margin:16px;padding:16px;border-radius:8px;box-shadow:0 2px 5px #0000001a}.feed-post[_ngcontent-%COMP%]   .mat-card-header[_ngcontent-%COMP%]{display:flex;align-items:flex-start;padding-bottom:8px}.feed-post[_ngcontent-%COMP%]   .profile-container[_ngcontent-%COMP%]{display:flex;align-items:flex-start;width:100%}.feed-post[_ngcontent-%COMP%]   .profile-pic[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;margin-right:12px;object-fit:cover}.feed-post[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.feed-post[_ngcontent-%COMP%]   .mat-card-title[_ngcontent-%COMP%]{font-weight:700}.feed-post[_ngcontent-%COMP%]   .mat-card-subtitle[_ngcontent-%COMP%]{color:#0009}.feed-post[_ngcontent-%COMP%]   .post-image[_ngcontent-%COMP%]{width:auto;max-width:500px;max-height:500px;border-radius:8px;margin-top:8px;object-fit:cover}.feed-post[_ngcontent-%COMP%]   .post-video[_ngcontent-%COMP%]{width:auto;max-width:300px;max-height:300px;border-radius:8px;margin-top:8px}.feed-post[_ngcontent-%COMP%]   .media-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.feed-post[_ngcontent-%COMP%]   .mat-card-actions[_ngcontent-%COMP%]{display:flex;gap:8px;margin-top:16px}.feed-post[_ngcontent-%COMP%]   .mat-card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{text-transform:none}.feed-post[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]{margin-top:8px}.feed-post[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]{margin-top:16px}.feed-post[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:8px}.feed-post[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   .profile-pic[_ngcontent-%COMP%]{width:30px;height:30px;margin-right:8px}.feed-post[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   .mat-line[_ngcontent-%COMP%]{font-size:14px;color:#000000b3}.file-input-row[_ngcontent-%COMP%]{display:flex;gap:16px;margin-bottom:16px}.file-input-container[_ngcontent-%COMP%]{display:flex;align-items:center;flex:1}.file-label[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer;font-size:16px;color:#007bff;background:#f8f9fa;border:1px solid #ddd;padding:8px 12px;border-radius:4px;margin-right:10px}.file-label[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-right:8px}.file-input[_ngcontent-%COMP%]{display:none}.profile-container[_ngcontent-%COMP%]{display:flex}.user-post-wrapper[_ngcontent-%COMP%]{width:80%}.user-profile-card[_ngcontent-%COMP%]{width:25%}.user-profile-card[_ngcontent-%COMP%]   .profile-image[_ngcontent-%COMP%]{width:130px;height:130px;border-radius:50%}"]}),o})();var c=a(4006),O=a(7009),_=a(9549),M=a(4144);const w=["fileInput"];function S(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"img",16),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.triggerFileInput())}),t.qZA()}if(2&o){const e=t.oxw(2);t.Q6J("src",e.FILE_URL+e.user.profile_img,t.LSH)}}function N(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-card",1)(1,"mat-card-header")(2,"mat-card-title")(3,"h2"),t._uU(4,"Edit Profile"),t.qZA()()(),t.TgZ(5,"mat-card-content")(6,"form",2),t.NdJ("ngSubmit",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.onSubmit())}),t.TgZ(7,"div",3),t.YNc(8,S,1,1,"img",4),t.TgZ(9,"input",5,6),t.NdJ("change",function(i){t.CHM(e);const l=t.oxw();return t.KtG(l.onFileChange(i))}),t.qZA()(),t.TgZ(11,"mat-form-field",7)(12,"mat-label"),t._uU(13,"First Name"),t.qZA(),t._UZ(14,"input",8),t.qZA(),t.TgZ(15,"mat-form-field",7)(16,"mat-label"),t._uU(17,"Last Name"),t.qZA(),t._UZ(18,"input",9),t.qZA(),t.TgZ(19,"mat-form-field",7)(20,"mat-label"),t._uU(21,"Mobile"),t.qZA(),t._UZ(22,"input",10),t.qZA(),t.TgZ(23,"mat-form-field",7)(24,"mat-label"),t._uU(25,"Country"),t.qZA(),t._UZ(26,"input",11),t.qZA(),t.TgZ(27,"mat-form-field",7)(28,"mat-label"),t._uU(29,"State"),t.qZA(),t._UZ(30,"input",12),t.qZA(),t.TgZ(31,"mat-form-field",7)(32,"mat-label"),t._uU(33,"City"),t.qZA(),t._UZ(34,"input",13),t.qZA(),t.TgZ(35,"mat-form-field",7)(36,"mat-label"),t._uU(37,"Gender"),t.qZA(),t._UZ(38,"input",14),t.qZA(),t.TgZ(39,"button",15),t._uU(40,"Save Changes"),t.qZA()()()()}if(2&o){const e=t.oxw();t.xp6(6),t.Q6J("formGroup",e.editProfileForm),t.xp6(2),t.Q6J("ngIf",e.user.profile_img)}}const J=[{path:"",component:(()=>{class o{constructor(){this.boxes=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20]}ngOnInit(){}onScroll(e){console.log("hhhhhhhhhhhhhhhhhhhh"),this.boxes.length>=100?console.log("No more items"):(console.log("scrolled!!",e),this.boxes=[...this.boxes,1,2,3,4,5,6,7,8,9,10])}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-profile"]],decls:1,vars:0,template:function(e,n){1&e&&t._UZ(0,"router-outlet")},dependencies:[p.lC],styles:[".boxes[_ngcontent-%COMP%]{height:20vh;width:44vw;background-color:#00f}.container[_ngcontent-%COMP%]{height:100%;width:100%;display:grid;grid-template-columns:1fr 1fr;grid-column-gap:1.5vw;grid-row-gap:5px}"]}),o})(),children:[{path:"user-profile",component:F},{path:"",redirectTo:"user-profile",pathMatch:"full"},{path:"edit-profile",component:(()=>{class o{constructor(e,n,i,l,m){this.fb=e,this.apiService=n,this.router=i,this.helperService=l,this.snackBar=m,this.user={},this.userData=[],this.FILE_URL=x.N.FILE_URL,this.profileImgFile=null,this.userData=localStorage.getItem("User"),this.userData=JSON.parse(this.userData),this.editProfileForm=this.fb.group({first_name:["",c.kI.required],last_name:["",c.kI.required],country:[""],state:[""],city:[""],gender:[""],mobile:[""]})}ngOnInit(){this.loadUserProfile()}loadUserProfile(){this.apiService.postData("profile_get",{user_id:this.userData.user_id}).subscribe({next:n=>{1===n.status?(this.user=n.details,this.editProfileForm.patchValue(this.user)):this.helperService.error(n.message)},error:n=>{console.error("failed",n)}})}onFileChange(e){e.target.files.length>0&&(this.profileImgFile=e.target.files[0])}triggerFileInput(){this.fileInput.nativeElement.click()}onSubmit(){if(this.editProfileForm.invalid)return;let e=this.editProfileForm.value;e.user_id=this.userData.user_id;let n=new FormData;for(const i in e)e.hasOwnProperty(i)&&n.append(i,e[i]);this.profileImgFile&&n.append("profile_img",this.profileImgFile),this.apiService.postData("update_profile",n,!0).subscribe({next:i=>{1==i.status?(this.helperService.success(i.msg),this.router.navigate(["/profile/user-profile"])):this.helperService.error(i.msg)},error:i=>{console.error("failed",i)}})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(c.QS),t.Y36(P.s),t.Y36(p.F0),t.Y36(C.W),t.Y36(O.ux))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-edit-profile"]],viewQuery:function(e,n){if(1&e&&t.Gf(w,5),2&e){let i;t.iGM(i=t.CRH())&&(n.fileInput=i.first)}},decls:1,vars:1,consts:[["class","edit-profile-card",4,"ngIf"],[1,"edit-profile-card"],[3,"formGroup","ngSubmit"],[1,"profile-image-container"],["alt","Profile Picture","class","profile-image",3,"src","click",4,"ngIf"],["type","file",2,"display","none",3,"change"],["fileInput",""],["appearance","fill"],["matInput","","formControlName","first_name"],["matInput","","formControlName","last_name"],["matInput","","formControlName","mobile"],["matInput","","formControlName","country"],["matInput","","formControlName","state"],["matInput","","formControlName","city"],["matInput","","formControlName","gender"],["mat-raised-button","","color","primary","type","submit"],["alt","Profile Picture",1,"profile-image",3,"src","click"]],template:function(e,n){1&e&&t.YNc(0,N,41,2,"mat-card",0),2&e&&t.Q6J("ngIf",n.user)},dependencies:[f.O5,c._Y,c.Fj,c.JJ,c.JL,c.sg,c.u,s.a8,s.dk,s.dn,s.n5,_.KE,_.hX,u.lW,M.Nt],styles:[".edit-profile-card[_ngcontent-%COMP%]{max-width:600px;margin:20px auto}.profile-image-container[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.profile-image[_ngcontent-%COMP%]{width:150px;height:150px;border-radius:50%}mat-form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:15px}  .toast-container{position:fixed;top:80px;right:10px;z-index:1000;pointer-events:none}  .toast{min-width:300px;padding:16px;display:flex;align-items:center;justify-content:space-between;border-radius:4px}  .toast .toast-title{font-weight:700}  .toast .toast-message{margin-left:8px}  .toast .toast-icon{font-size:24px}  .toast.toast-success{background-color:#2e7d32;color:#fff}  .toast.toast-error{background-color:#c62828;color:#fff}  .toast.toast-warning{background-color:#ff8f00;color:#fff}  .toast   .toast-success .toast-icon{color:#fff}  .toast   .toast-error .toast-icon{color:#fff}  .toast   .toast-warning .toast-icon{color:#fff}"]}),o})()}]}];let E=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[p.Bz.forChild(J),p.Bz]}),o})();var L=a(4383),D=a(8739);let Q=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[f.ez,E,c.u5,c.UX,O.ZX,d.ie,s.QW,Z.Ps,_.lN,u.ot,M.c,L.Rh.forRoot(),g.Tx,D.TU]}),o})()}}]);